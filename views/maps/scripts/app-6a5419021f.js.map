{"version":3,"sources":["scripts/app.js"],"names":["angular","module","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","window","document","ga","config","$logProvider","$translateProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","useLoader","urlTemplate","preferredLanguage","useSanitizeValueStrategy","configFacebook","$facebookProvider","AppConfig","setAppId","facebook","setPermissions","runFacebook","LangVar","navigator","language","userLanguage","userLangVar","substring","toUpperCase","d","id","js","fjs","getElementById","$inject","run","constant","malarkey","moment","app","name","url","image","routes","home","login","color","parse","appId","server","locales","translation","code","preferredLocale","routerConfig","$stateProvider","$urlRouterProvider","otherwise","runParse","Install","$rootScope","currentUser","Parse","User","current","console","log","runBlock","$log","debug","$mdThemingProvider","definePalette","50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700","contrastDefaultColor","contrastDarkColors","state","abstract","template","resolve","admin","$q","defer","user","attributes","roleName","reject","promise","templateUrl","controller","directive","link","scope","element","attrs","$observe","newVal","undefined","img","Image","actualSrc","bind","attr","compareToDirective","restrict","targetModel","require","ctrl","compare","e1","val","e2","$watch","newValue","$setValidity","deleteItemDirective","$mdDialog","Toast","deleteItemLink","elem","event","confirm","title","content","ok","cancel","targetEvent","show","then","Model","destroy","item","success","simple","onDelete","error","message","model","emailValidatorDirective","emailValidatorLink","ngModel","$asyncValidators","email","modelValue","viewValue","validateEmail","facebookLoginDirective","$state","$translate","Auth","Facebook","facebookLoginLink","facebookLogin","loading","getCurrentUser","fbAuthData","status","fbData","me","data","findByEmail","signInViaFacebook","get","deferred","instant","updateWithFacebookData","getLoggedUser","go","facebookStatus","resp","userFacebook","mWidgetDirective","mWidgetLink","value","icon","ngModelCtrl","fromUser","text","transformedInput","replace","$setViewValue","$render","$parsers","uploadImageDirective","uploadImageLink","fileInput","click","on","evt","tempImage","currentTarget","files","reader","FileReader","onload","target","result","readAsDataURL","usernameValidatorDirective","usernameValidatorLink","username","validateUsername","views","main","toolbar@app","sidenav@app","$location","path","controllerAs","","installed","profile","$stateParams","findUserByUsername","factory","setSessionToken","sessionToken","mSessionToken","ensureLoggedIn","become","recoverPassword","requestPasswordReset","resetPassword","logIn","obj","password","logOut","FacebookFactory","$facebook","getLoginStatus","FacebookUtils","logout","api","fields","response","invite","ui","method","friends","getTime","access_token","expiration_date","set","Boolean","save","service","ParseCloud","ParseObject","Object","extend","getStatus","this","isApproved","update","feed","params","all","query","Query","filter","contains","order","indexOf","ascending","descending","date","start","startOf","end","endOf","greaterThanOrEqualTo","toDate","lessThanOrEqualTo","doesNotExist","equalTo","include","limit","skip","page","find","count","defineProperty","prototype","GeoPoint","latitude","longitude","GalleryFactory","create","objPlace","expiresAt","InstallFactory","ParseCloudFactory","action","Cloud","upload","file","ext","filename","File","ToastFactory","$mdToast","textContent","dialog","ev","alert","parent","body","clickOutsideToClose","ariaLabel","UserFactory","signIn","signUp","gender","acl","ACL","setPublicReadAccess","setPublicWriteAccess","setACL","authData","expiration","setSeconds","getSeconds","authResponse","expiresIn","toISOString","facebookAuthData","userID","accessToken","split","fetch","userFetched","getPublicData","first","userData","Promise","setPhoto","parseFile","photo","follow","otherUser","input","findUsername","delete","AdminActivityController","$scope","GalleryActivity","showSimpleToast","hideDelay","loadAll","items","map","loadCount","total","rowOptions","openMenu","$mdOpenMenu","onQueryChange","onCreateGalleryActivity","locals","answer","onPaginationChange","isDate","updateItem","place","objGalleryActivity","copy","destroyItem","aproveItem","unset","Comment","comments","loadComments","showToast","onUpdateIsInappropriate","comment","objComment","isInappropriate","AdminController","$mdSidenav","toggle","AdminFeedbackController","GalleryFeedback","galleries","category","places","onCreateGalleryFeedback","onUpdateGalleryFeedback","objGalleryFeedback","onDestroyGalleryFeedback","onUpdateIsApproved","AdminGalleryController","Gallery","init","onCreateGallery","onUpdateGallery","objGallery","AdminHomeController","vm","dashboard","GallerySetting","loadGallerySettings","onCreateGallerySetting","gallery","onUpdateExpiresAt","onUpdateGallerySetting","objGallerySetting","onDestroyGallerySetting","formData","isDayInvalid","days","parseInt","add","isSavingExpiresAt","hide","AdminSidenavController","menus","AdminUserController","users","loggedUser","loadUsers","onSearch","onSaveUser","onUpdateUser","objUser","onDeleteUser","getUsername","DialogUserController","ParseFile","imageFilename","uploadImage","type","match","$error","isUploading","savedFile","onEventSaveUser","isValidForm","length","isSavingUser","onEventUpdateUser","AminGalleryActivityModalController","NgMap","GeoCoder","marker","isCreating","isImageOneUploading","isImageTwoUploading","isImageThreeUploading","isImageFourUploading","imageOneFilename","location","onAddressChanged","geocode","address","geometry","google","maps","LatLng","lat","lng","setCenter","setZoom","setPosition","getMap","objMap","markers","trigger","galleryLocation","onMarkerDragEnd","latLng","onInputLocationChanged","uploadImageOne","invalidFile","$errorParam","onSaveGallery","isFormValid","isSavingGallery","AdminGalleryModalController","ActivityController","showLoading","isLoadingViewShown","isGalleriesViewShown","isErrorViewShown","isEmptyViewShown","showGalleries","showErrorView","showEmptyView","ensureMoreData","isMoreData","setGalleries","setCurrentPage","loadFeed","$broadcast","onLoadMore","moreDataCanBeLoaded","showLoadingView","onReload","AuthLayoutController","slideIndex","slideChanged","index","slides","description","EditProfileSidenavController","goLink","InstallController","form","passwordConfirmation","onSubmit","rForm","invalid","LoginController","onLogin","$invalid","MainController","ProfileController","SearchController","SidenavController","ToolbarController","isAdmin","homeLink","UserLogoutController","UserRegisterController","genders","userForm","UserResetPasswordCtrl","isLoading","showDialog","onReset","$event","FeedController","$templateCache","put"],"mappings":"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","file":"scripts/app-6a5419021f.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('photogram', [\n        'angulartics',\n        'angulartics.google.analytics',\n        'ngAnimate',\n        'ngCookies',\n        'ngSanitize',\n        'ngMessages',\n        'ngAria',\n        'ui.router',\n        'ngMaterial',\n        'toastr',\n        'md.data.table',\n        'ngFacebook',\n        'ngFileUpload',\n        'ngMap',\n        'angularMoment',\n        'mdFormValidator',\n        'validatorEquals',\n        'validatorAsync',\n        'pascalprecht.translate', // angular-translate\n        'tmh.dynamicLocale', // angular-dynamic-locale\n        'ionic',\n        'public',\n        'admin',\n    ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin', [\n        'photogram'\n    ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public', [\n        'photogram'\n    ]);\n\n})();\n(function () {\n    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n    ga('create', 'UA-53950213-6', 'auto');\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram')\n           .config(config)\n           .config(configFacebook)\n           .run(runFacebook);\n\n    /** @ngInject */\n    function config($logProvider, $translateProvider, toastrConfig) {\n        // Enable log\n        $logProvider.debugEnabled(true);\n\n        // Set options third-party lib\n        toastrConfig.allowHtml         = true;\n        toastrConfig.timeOut           = 3000;\n        toastrConfig.positionClass     = 'toast-top-right';\n        toastrConfig.preventDuplicates = true;\n        toastrConfig.progressBar       = true;\n\n\n        // Enable debug logging\n        $logProvider.debugEnabled(true);\n        //\n        //// uiGmapgoogle-maps configuration\n        //uiGmapGoogleMapApiProvider.configure({\n        //  //    key: 'your api key',\n        //  v: '3.exp',\n        //  libraries: 'weather,geometry,visualization'\n        //});\n\n        // angular-translate configuration\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.preferredLanguage('en');\n        $translateProvider.useSanitizeValueStrategy('sanitize');\n    }\n\n\n    // Facebook\n    function configFacebook($facebookProvider, AppConfig) {\n        $facebookProvider.setAppId(AppConfig.facebook);\n        $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n    }\n\n    function runFacebook() {\n        var LangVar     = window.navigator.language || window.navigator.userLanguage;\n        var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n        // Load the SDK asynchronously\n        (function (d, s, id) {\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) return;\n            js     = d.createElement(s);\n            js.id  = id;\n            js.src = 'http://connect.facebook.net/' + userLangVar + '/sdk.js';\n            fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('photogram')\n        .constant('malarkey', malarkey)\n        .constant('moment', moment)\n        .constant('AppConfig', {\n            app            : {\n                name : 'Photogram',\n                url  : 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes         : {\n                home : 'photogram.home',\n                login: 'user.intro'\n            },\n            color          : '#00796B',\n            facebook       : '1024016557617380',\n            parse          : {\n                appId : 'myAppId',\n                server: 'http://localhost:1337/parse/'\n                //server: 'https://photogramapp.com/parse/'\n                //server: 'https://photogram2-server.herokuapp.com/parse/'\n            },\n            locales        : [\n                {\n                    translation: 'LANG.PORTUGUES',\n                    code       : 'pt'\n                },\n                {\n                    translation: 'LANG.ENGLISH',\n                    code       : 'en'\n                },\n                {\n                    translation: 'LANG.TURKISH',\n                    code       : 'tr'\n                },\n                {\n                    translation: 'LANG.PERSIAN',\n                    code       : 'fa'\n                },\n                {\n                    translation: 'LANG.GERMAN',\n                    code       : 'de'\n                }\n            ],\n            preferredLocale: 'en',\n        })\n    ;\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').config(routerConfig);\n\n    /** @ngInject */\n    function routerConfig($stateProvider, $urlRouterProvider) {\n\n        // $locationProvider.html5Mode(true);\n        $urlRouterProvider.otherwise('/');\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('photogram')\n        .run(runParse)\n        .run(runBlock);\n\n\n    function runParse(AppConfig, Install, $rootScope) {\n        //Parse.initialize(AppConfig.parse.appId);\n        //Parse.serverURL        = AppConfig.parse.server;\n        $rootScope.currentUser = Parse.User.current();\n\n        console.log($rootScope.currentUser);\n\n        //if (!$rootScope.currentUser) {\n        //    Install.status().then(function (data) {\n        //        console.log('Installed', data);\n        //    }).catch(function (data) {\n        //        console.log('Not installed', data);\n        //    });\n        //}\n    }\n\n    /** @ngInject */\n    function runBlock($log) {\n\n        $log.debug('runBlock end');\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('photogram')\n    .config(function ($mdThemingProvider) {\n      $mdThemingProvider.definePalette('Photogram', {\n        '50': '#858585',\n        '100': '#5e5e5e',\n        '200': '#424242',\n        '300': '#1f1f1f',\n        '400': '#0f0f0f',\n        '500': '#FFFFFF',\n        '600': '#000000',\n        '700': '#000000',\n        '800': '#000000',\n        '900': '#000000',\n        'A100': '#858585',\n        'A200': '#5e5e5e',\n        'A400': '#0f0f0f',\n        'A700': '#000000',\n        'contrastDefaultColor': 'dark',\n        'contrastDarkColors': '50 A100'\n      });\n\n      //$mdThemingProvider.theme('default').primaryPalette('Photogram');\n\n    });\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('admin').config(routerConfig);\n\n    function routerConfig($stateProvider) {\n        $stateProvider\n\n            .state('app.admin', {\n                url     : '/admin',\n                abstract: true,\n                template: '<div class=\"container-admin\" ui-view=\"\"></div>',\n                resolve : {\n                    admin: function ($q) {\n                        var defer = $q.defer();\n                        var user  = Parse.User.current();\n                        if (user && user.attributes.roleName === 'Admin') {\n                            defer.resolve();\n                        } else {\n                            defer.reject();\n                        }\n\n                        return defer.promise;\n                    }\n                }\n            })\n\n            .state('app.admin.dashboard', {\n                url        : '/dashboard',\n                templateUrl: 'app/admin/views/admin.home.html',\n                controller : 'AdminHomeCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.gallery', {\n                url        : '/gallery',\n                templateUrl: 'app/admin/views/admin.gallery.html',\n                controller : 'AdminGalleryCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.user', {\n                url        : '/user',\n                templateUrl: 'app/admin/views/admin.user.html',\n                controller : 'AdminUserCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.activity', {\n                url        : '/activity',\n                templateUrl: 'app/admin/views/admin.activity.html',\n                controller : 'AdminActivityCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.feedback', {\n                url        : '/feedback',\n                templateUrl: 'app/admin/views/admin.feedback.html',\n                controller : 'AdminFeedbackCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.comment', {\n                url        : '/comment',\n                templateUrl: 'app/admin/views/admin.comment.html',\n                controller : 'AdminCommentCtrl',\n                // controllerAs: 'vm'\n            })\n\n            .state('app.admin.setting', {\n                url        : '/setting',\n                templateUrl: 'app/admin/views/admin.setting.html',\n                controller : 'AdminSettingCtrl',\n                // controllerAs: 'vm'\n            })\n\n\n        ;\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').directive('actualSrc', function () {\n    return {\n      link: function postLink(scope, element, attrs) {\n        attrs.$observe('actualSrc', function (newVal) {\n          if (newVal !== undefined) {\n            var img = new Image();\n            img.src = attrs.actualSrc;\n            angular.element(img).bind('load', function () {\n              element.attr('src', attrs.actualSrc);\n            });\n          }\n        });\n      }\n    }\n  });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('compareTo', compareToDirective);\n\n    function compareToDirective() {\n        return {\n            restrict: 'A',\n            scope   : {\n                targetModel: '=compareTo'\n            },\n            require : 'ngModel',\n            link    : function postLink(scope, element, attrs, ctrl) {\n\n                var compare = function () {\n\n                    var e1 = element.val();\n                    var e2 = scope.targetModel;\n\n                    if (e2 !== null) {\n                        return e1 === e2;\n                    }\n\n                    return false;\n                };\n\n                scope.$watch(compare, function (newValue) {\n                    ctrl.$setValidity('errorCompareTo', newValue);\n                });\n\n            }\n        };\n    }\n\n})();\n(function () {\n  'use strict';\n\n  /**\n   * @ngdoc directive\n   * @name deleteItem\n   *\n   * @description\n   * _Please update the description and restriction._\n   *\n   * @restrict A\n   * */\n\n  angular\n    .module('photogram')\n    .directive('deleteItem', deleteItemDirective);\n\n  function deleteItemDirective($mdDialog, Toast) {\n    return {\n      restrict: 'A',\n      link    : deleteItemLink,\n      scope   : {\n        model   : '=',\n        item    : '=',\n        onDelete: '='\n      }\n    };\n\n    function deleteItemLink(scope, elem, attr) {\n\n      elem.bind('click', function (event) {\n\n        var confirm = $mdDialog.confirm()\n                               .title('Confirm action')\n                               .content('Are you sure you want to delete this item?')\n                               .ok('Delete')\n                               .cancel('Cancel')\n                               .targetEvent(event)\n          ;\n\n        $mdDialog.show(confirm).then(function () {\n\n          scope.Model.destroy(item).then(function (success) {\n              Toast.simple('Item deleted.');\n              scope.onDelete();\n            },\n            function (error) {\n              Toast.simple(error.message);\n            });\n\n        });\n      });\n\n\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('emailValidator', emailValidatorDirective);\n\n    function emailValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            link    : emailValidatorLink,\n        };\n\n        function emailValidatorLink(scope, elem, attr,ngModel) {\n            ngModel.$asyncValidators.email = function  (modelValue, viewValue) {\n                console.log(viewValue);\n                if(viewValue) {\n                    return User.validateEmail(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective($state, $q, $translate, Auth, Facebook, User, $rootScope, Toast) {\n        return {\n            restrict: 'E',\n            scope: {\n                loading: '='\n            },\n            link    : facebookLoginLink,\n            template: '<md-button class=\"md-raised button-facebook\" aria-label=\"{ name || \\'loginWithFacebook\\'| translate}\"> <md-icon md-font-icon=\"icon-facebook\"></md-icon> <span>{{ name || \\'loginWithFacebook\\'| translate }}</span> </md-button>'\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            scope.facebookStatus = null;\n            Facebook.getCurrentUser().then(function (resp) {\n                console.log(resp);\n                scope.facebookStatus = resp;\n                return resp;\n            }).then(function (facebookStatus) {\n                if (facebookStatus.status === 'connected') {\n                    Facebook.me().then(function (userFacebook) {\n                        scope.name = userFacebook.name;\n                    });\n                }\n            }).catch(function () {\n                console.log('Not logged');\n            });\n\n            elem.bind('click', facebookLogin);\n\n            function facebookLogin() {\n\n                scope.loading = true;\n                console.log('Login Facebook');\n                Facebook.getCurrentUser().then(function (fbAuthData) {\n                    console.log(fbAuthData);\n\n                    if (fbAuthData.status === 'connected') {\n                        var fbData = null;\n                        return Facebook.me().then(function (data) {\n                            fbData = data;\n                            return User.findByEmail(data.email);\n                        }).then(function (user) {\n                            if (!user.id) {\n                                return User.signInViaFacebook(fbAuthData);\n                            } else if (user.get('authData')) {\n                                if (user.get('authData').facebook.id === fbData.id) {\n                                    return User.signInViaFacebook(fbAuthData);\n                                }\n                            } else {\n                                var deferred = $q.defer();\n                                deferred.reject($translate.instant('emailFacebookTakenText'));\n                                return deferred.promise;\n                            }\n                        }).then(function () {\n                            return User.updateWithFacebookData(fbData);\n                        }).then(function (user) {\n                            console.log(user);\n                            Toast.simple($translate.instant('loggedInAsText') + ' ' + user.get('email'));\n                            $rootScope.currentUser = Auth.getLoggedUser();\n                            $state.go('app.feed');\n                            scope.loading = false;\n                        }, function (error) {\n                            Toast.simple(error);\n                            scope.loading = false;\n                        });\n                    }\n                });\n\n\n                function processFacebookLogin(fbAuthData) {\n\n\n                    var fbData = null;\n\n                    return Facebook.me().then(function (data) {\n                        fbData = data;\n                        return User.findByEmail(data.email);\n                    }).then(function (user) {\n                        if (!user.id) {\n                            return User.signInViaFacebook(fbAuthData);\n                        } else if (user.get('authData')) {\n                            if (user.get('authData').facebook.id === fbData.id) {\n                                return User.signInViaFacebook(fbAuthData);\n                            }\n                        } else {\n                            var deferred = $q.defer();\n                            deferred.reject($translate.instant('emailFacebookTakenText'));\n                            return deferred.promise;\n                        }\n                    }).then(function () {\n                        return User.updateWithFacebookData(fbData);\n                    }).then(function (user) {\n                        Toast.show($translate.instant('loggedInAsText') + ' ' + user.get('email'));\n                    }, function (error) {\n                        Toast.alert(error);\n                    });\n                }\n\n            }\n\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('mWidget', mWidgetDirective);\n\n    function mWidgetDirective() {\n        return {\n            restrict   : 'E',\n            link       : mWidgetLink,\n            templateUrl: 'app/directives/mWidgetDirective.html',\n            scope      : {\n                title: '=',\n                value: '=',\n                icon : '@',\n                color: '@',\n            }\n        };\n\n        function mWidgetLink(scope, elem, attr) {\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  \n  angular.module('photogram').directive('numbersOnly', function () {\n    return {\n      require: 'ngModel',\n      link   : function (scope, element, attr, ngModelCtrl) {\n        function fromUser(text) {\n          if (text) {\n            var transformedInput = text.replace(/[^0-9]/g, '');\n\n            if (transformedInput !== text) {\n              ngModelCtrl.$setViewValue(transformedInput);\n              ngModelCtrl.$render();\n            }\n            return transformedInput;\n          }\n          return undefined;\n        }\n\n        ngModelCtrl.$parsers.push(fromUser);\n      }\n    };\n  });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('uploadImage', uploadImageDirective);\n\n    function uploadImageDirective($q) {\n        return {\n            restrict: 'A',\n            link    : uploadImageLink\n        };\n\n        function uploadImageLink(scope, elem, attr) {\n            elem.bind('click', function () {\n                var defer     = $q.defer();\n                var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                fileInput[0].click();\n                fileInput.on('change', function (evt) {\n                    var tempImage = evt.currentTarget.files[0];\n                    var reader    = new FileReader();\n                    reader.onload = function (evt) {\n                        defer.resolve(evt.target.result);\n                    };\n                    reader.readAsDataURL(tempImage);\n                });\n                return defer.promise;\n            })\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('photogram').directive('usernameValidator', usernameValidatorDirective);\n\n    function usernameValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            restrict: 'A',\n            link    : usernameValidatorLink,\n        };\n\n        function usernameValidatorLink(scope, elem, attr, ngModel) {\n            ngModel.$asyncValidators.username = function  (modelValue, viewValue) {\n                if(viewValue) {\n                    return User.validateUsername(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('public').config(routerConfig);\n\n    function routerConfig($stateProvider) {\n        $stateProvider\n\n            .state('app', {\n                abstract: true,\n                views   : {\n                    main         : {\n                        templateUrl: 'app/public/views/main.html',\n                        //controller : 'Mainctrl'\n                    },\n                    'toolbar@app': {\n                        templateUrl: 'app/public/views/toolbar.html',\n                        controller : 'ToolbarCtrl'\n                    },\n                    'sidenav@app': {\n                        templateUrl: 'app/public/views/sidenav.html',\n                        controller : 'SidenavCtrl'\n                    }\n\n                }\n            })\n\n\n            .state('app.feed', {\n                url        : '/',\n                templateUrl: 'app/public/views/feed.html',\n                controller : 'FeedCtrl',\n                resolve    : {\n                    user: function ($location) {\n                        var user = Parse.User.current();\n                        console.log(user);\n                        if (user) {\n                            return user;\n                        } else {\n                            $location.path('/auth/register');\n                        }\n                    }\n                }\n            })\n\n            .state('app.activity', {\n                url         : '/activity',\n                templateUrl : 'app/public/views/activity.html',\n                controller  : 'ActivityCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.search', {\n                url        : '/search',\n                templateUrl: 'app/public/views/search.html',\n                controller : 'FeedCtrl'\n            })\n\n            .state('app.logout', {\n                url       : '/logout',\n                template  : '<div></div>',\n                controller: 'UserLogoutCtrl',\n                // controllerAs: 'vm'\n            })\n\n\n            // Auth\n            .state('app.auth', {\n                url     : '/auth',\n                abstract: true,\n                views   : {\n                    ''           : {\n                        templateUrl : 'app/public/views/auth.layout.html',\n                        controller  : 'AuthLayoutCtrl',\n                        controllerAs: 'vm',\n                    },\n                    'toolbar@app': {\n                        template: ''\n                    }\n                }\n            })\n\n            .state('app.auth.register', {\n                url         : '/register',\n                templateUrl : 'app/public/views/register.html',\n                controller  : 'UserRegisterCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.auth.install', {\n                url         : '/install',\n                templateUrl : 'app/public/views/install.html',\n                controller  : 'InstallCtrl',\n                controllerAs: 'vm',\n                resolve     : {\n                    installed: function (Install, $location) {\n                        Install.status().then(function () {\n                            return true;\n                        }).catch(function (resp) {\n                            $location.path('.auth/register');\n                        })\n                    }\n                }\n            })\n\n            .state('app.auth.login', {\n                url         : '/login',\n                templateUrl : 'app/public/views/login.html',\n                controller  : 'UserLoginCtrl',\n                controllerAs: 'vm'\n            })\n\n            .state('app.auth.reset', {\n                url        : '/reset',\n                templateUrl: 'app/public/views/reset.html',\n                controller : 'UserResetPasswordCtrl'\n            })\n\n\n            .state('app.editProfile', {\n                abstract   : true,\n                url        : '/account',\n                templateUrl: 'app/public/views/editprofile.sidenav.html',\n                controller : 'EditProfileSidenavCtrl'\n            })\n\n            .state('app.editProfile.account', {\n                url        : '/edit',\n                templateUrl: 'app/public/views/editprofile.html',\n                //controller : 'LoginCtrl'\n            })\n\n            .state('app.editProfile.password', {\n                url        : '/password',\n                templateUrl: 'app/public/views/editprofile.html',\n                //controller : 'LoginCtrl'\n            })\n\n\n            .state('app.docs', {\n                url        : '/docs',\n                templateUrl: 'app/public/views/docs.html',\n                //controller : 'LoginCtrl',\n            })\n\n            .state('app.profile', {\n                url        : '/:username',\n                templateUrl: 'app/public/views/profile.html',\n                controller : 'ProfileCtrl',\n                resolve    : {\n                    profile: function ($stateParams, User, $location) {\n                        return User.findUserByUsername({username: $stateParams.username}).then(function (user) {\n                            if (user) {\n                                return user;\n                            } else {\n                                $location.path('auth/register');\n                            }\n                        }).catch(function () {\n                            $location.path('auth/register');\n                        })\n                    }\n                }\n            })\n\n\n        ;\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Auth', function ($q) {\n\n        var mSessionToken = null;\n        return {\n            getLoggedUser  : getLoggedUser,\n            setSessionToken: setSessionToken,\n            ensureLoggedIn : ensureLoggedIn,\n            recoverPassword: recoverPassword,\n            resetPassword  : resetPassword,\n            logIn          : logIn,\n            logOut         : logOut\n        };\n\n        function getLoggedUser() {\n            return new Parse.User.current();\n        }\n\n        function setSessionToken(sessionToken) {\n            mSessionToken = sessionToken;\n        }\n\n        function ensureLoggedIn() {\n            var defer = $q.defer();\n\n            if (mSessionToken === null) {\n                defer.reject('Session token invalid');\n                return defer.promise;\n            }\n\n            if (!Parse.User.current()) {\n                Parse.User.become(mSessionToken).then(defer.resolve, defer.reject);\n            } else {\n                defer.resolve(Parse.User.current());\n            }\n\n            return defer.promise;\n        }\n\n        function recoverPassword(email) {\n            var defer = $q.defer();\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function resetPassword(email) {\n\n            var defer = $q.defer();\n\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logIn(obj) {\n            var defer = $q.defer();\n\n            Parse.User.logIn(obj.username, obj.password, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            Parse.User.logOut().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('photogram').service('Facebook', FacebookFactory);\n\n    function FacebookFactory($q, $facebook) {\n\n        var facebook = $facebook;\n\n        return {\n            getCurrentUser: getCurrentUser,\n            logIn         : logIn,\n            logOut        : logOut,\n            me            : me,\n            invite        : invite,\n            friends       : friends,\n            api           : api,\n            link          : link\n        };\n\n        function getCurrentUser() {\n            var defer = $q.defer();\n            facebook.getLoginStatus().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function logIn() {\n            var defer = $q.defer();\n            Parse.FacebookUtils.logIn(null, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            $facebook.logout().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function me() {\n\n            var defer = $q.defer();\n\n            facebook.api('/me', {fields: 'name, first_name, last_name, gender, email'}).then(function (response) {\n                if (!response || response.error) {\n                    defer.reject(response.error);\n                } else {\n                    defer.resolve(response);\n                }\n            });\n\n            return defer.promise;\n        }\n\n        function invite() {\n            var defer = $q.defer();\n            facebook.ui({\n                method : 'apprequests',\n                message: 'Venha para o nosso clube!'\n            }).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n        function friends() {\n            var defer = $q.defer();\n            facebook.api('me/friends').then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function api(api) {\n            var defer = $q.defer();\n            facebook.api(api).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function link(user) {\n            var defer = $q.defer();\n            if (user) {\n                facebook.login(['email']).then(function (response) {\n                    console.log('facebook login', response);\n                    //Pega o Status do Login\n                    var data = new Date(new Date().getTime() + response['authResponse']['expiresIn'] * 1000);\n\n                    console.log(user, response, data);\n\n                    Parse.FacebookUtils.link(user, {\n                        id             : response['authResponse']['userID'],\n                        access_token   : response['authResponse']['accessToken'],\n                        expiration_date: data\n                    }, {\n                        success: function (user) {\n                            // Função caso tenha logado tanto no face quanto no Parse\n                            console.log('User', user);\n                            user.set('facebook', response['authResponse']['userID']);\n                            user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] + '/picture?width=250&height=250');\n                            user.set('facebook_complete', Boolean(true));\n                            user.save().then(defer.resolve);\n                        }\n                    });\n                }, defer.resolve);\n            } else {\n                defer.reject('not logged');\n            }\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GalleryActivity', function ($q, ParseCloud, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryActivity', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      feed   : function (params) {\n        return ParseCloud.run('feedActivity', params);\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        // Order Table\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('user')\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'fromUser', {\n      get: function () {\n        return this.get('fromUser');\n      },\n      set: function (value) {\n        this.set('fromUser', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'toUser', {\n      get: function () {\n        return this.get('toUser');\n      },\n      set: function (value) {\n        this.set('toUser', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'gallery', {\n      get: function () {\n        return this.get('gallery');\n      },\n      set: function (value) {\n        this.set('gallery', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'title', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'address', {\n      get: function () {\n        return this.get('address');\n      },\n      set: function (value) {\n        this.set('address', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'image', {\n      get: function () {\n        return this.get('image');\n      },\n      set: function (value) {\n        this.set('image', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n      get: function () {\n        return this.get('imageThumb');\n      },\n      set: function (value) {\n        this.set('imageThumb', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'location', {\n      get: function () {\n        return this.get('location');\n      },\n      set: function (val) {\n        this.set('location', new Parse.GeoPoint({\n          latitude : val.latitude,\n          longitude: val.longitude\n        }));\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Gallery', GalleryFactory);\n\n    function GalleryFactory($q, ParseCloud, moment) {\n\n        const ParseObject = Parse.Object.extend('Gallery', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else {\n                        return 'Rejected';\n                    }\n                }\n            },\n            {\n                create: function (item) {\n                    var defer    = $q.defer();\n                    var objPlace = new ParseObject();\n                    objPlace.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n\n                feed   : function (params) {\n                    return ParseCloud.run('feedGallery', params);\n                },\n                update : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy: function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                all    : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    // Order Table\n                    if (params.order) {\n                        if (params.order.indexOf('-') < -1) {\n                            query.ascending(params.order);\n                        } else {\n                            query.descending(params.order.replace('-'));\n                        }\n                    }\n\n                    // Filter Date\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    // Status\n                    if (params.status && params.status !== null) {\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    // Include\n                    query.include('users');\n\n                    // Limit by page\n                    query.limit(params.limit);\n\n                    // Paginate\n                    query.skip((params.page * params.limit) - params.limit);\n                    query.find({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                count  : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    if (params.status && params.status !== null) {\n\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.count({\n                        success: function (count) {\n                            defer.resolve(count);\n                        },\n                        error  : function (error) {\n                            defer.reject(error);\n                        }\n                    });\n\n                    return defer.promise;\n                }\n            });\n\n        Object.defineProperty(ParseObject.prototype, 'user', {\n            get: function () {\n                return this.get('user');\n            },\n            set: function (value) {\n                this.set('user', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'commentsTotal', {\n            get: function () {\n                return this.get('commentsTotal');\n            },\n            set: function (value) {\n                this.set('commentsTotal', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'likesTotal', {\n            get: function () {\n                return this.get('likesTotal');\n            },\n            set: function (value) {\n                this.set('likesTotal', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'hashtags', {\n            get: function () {\n                return this.get('hashtags');\n            },\n            set: function (value) {\n                this.set('hashtags', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'words', {\n            get: function () {\n                return this.get('words');\n            },\n            set: function (value) {\n                this.set('words', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'address', {\n            get: function () {\n                return this.get('address');\n            },\n            set: function (value) {\n                this.set('address', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GalleryFeedback', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryFeedback', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n        item.user    = Parse.User.current();\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('User')\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        // Order Table\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'user', {\n      get: function () {\n        return this.get('user');\n      },\n      set: function (value) {\n        this.set('user', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'subject', {\n      get: function () {\n        return this.get('subject');\n      },\n      set: function (value) {\n        this.set('subject', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'title', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('GallerySetting', function ($q, moment) {\n\n    var ParseObject = Parse.Object.extend('GallerySetting', {\n      getStatus: function () {\n        if (moment().toDate() >= this.expiresAt) {\n          return 'Expired';\n        }\n        else if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('canonical', params.filter);\n        }\n\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        query.count({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      }\n\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'key', {\n      get: function () {\n        return this.get('key');\n      },\n      set: function (value) {\n        this.set('key', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'value', {\n      get: function () {\n        return this.get('value');\n      },\n      set: function (value) {\n        this.set('value', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('Install', InstallFactory);\n\n    function InstallFactory(ParseCloud) {\n        return {\n            start : start,\n            status: status,\n        };\n\n        function start(data) {\n            return ParseCloud.run('install', data);\n        }\n\n        function status(data) {\n            return ParseCloud.run('status', data);\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('ParseCloud', ParseCloudFactory);\n\n    function ParseCloudFactory($q) {\n        return {\n            run: run\n        };\n\n        function run(action, data) {\n            var defer = $q.defer();\n            Parse.Cloud.run(action, data, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('photogram').factory('ParseFile', function ($q) {\n    return {\n      upload: upload\n    };\n\n    function upload(file, ext) {\n      var defer = $q.defer();\n      var filename = 'file.jpg';\n\n      if (ext) {\n        filename.replace('.jpg', ext);\n      }\n      \n      new Parse.File(filename, file)\n        .save({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n      return defer.promise;\n    }\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('photogram')\n    .factory('Toast', ToastFactory);\n\n  function ToastFactory($mdToast,$mdDialog) {\n    return {\n      simple: simple,\n      dialog: dialog\n    };\n\n    function simple(message) {\n      return $mdToast.show($mdToast.simple().textContent(message));\n    }\n\n    function dialog (text, ev) {\n      $mdDialog.show(\n          $mdDialog.alert()\n                   .parent(angular.element(document.body))\n                   .clickOutsideToClose(true)\n                   .title(title)\n                   .content(message)\n                   .ariaLabel(text)\n                   .ok('Ok')\n                   .targetEvent(ev)\n      );\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').factory('User', UserFactory);\n\n    function UserFactory($q, ParseCloud) {\n\n        var User = Parse.User.extend({}, {\n            signIn: function (data) {\n                var defer = $q.defer();\n                Parse.User.logIn(data.username, data.password, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n\n            signUp           : function (data) {\n                var defer = $q.defer();\n                var user  = new Parse.User();\n                user.set({'name': data.name});\n                user.set({'username': data.email});\n                user.set({'email': data.email});\n                user.set({'gender': data.gender});\n                user.set({'password': data.password});\n                user.set({'roleName': 'User'});\n\n                var acl = new Parse.ACL();\n                acl.setPublicReadAccess(false);\n                acl.setPublicWriteAccess(false);\n                user.setACL(acl);\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            signInViaFacebook: function (authData) {\n\n                var expiration = new Date();\n                expiration.setSeconds(expiration.getSeconds() + authData.authResponse.expiresIn);\n                expiration = expiration.toISOString();\n\n                var facebookAuthData = {\n                    'id'             : authData.authResponse.userID,\n                    'access_token'   : authData.authResponse.accessToken,\n                    'expiration_date': expiration\n                }\n\n                var defer = $q.defer();\n\n                Parse.FacebookUtils.logIn(facebookAuthData, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n\n            findByEmail           : function (email) {\n\n                var defer = $q.defer();\n\n                Parse.Cloud.run('findUserByEmail', {email: email}, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            updateWithFacebookData: function (data) {\n\n                var defer = $q.defer();\n\n                Parse.Cloud.run('saveFacebookPicture', {}, {\n                    success: function () {\n                        var user = Parse.User.current();\n                        user.set({'email': data.email});\n                        user.set({'username': data.email.split('@')[0]});\n                        user.set({'name': data.name});\n                        user.setACL(new Parse.ACL(user));\n                        user.save(null, {\n                            success: function () {\n                                user.fetch().then(function (userFetched) {\n                                    defer.resolve(userFetched);\n                                }, function (error) {\n                                    defer.reject(error);\n                                })\n                            },\n                            error  : function (user, error) {\n                                defer.reject(error);\n                            }\n                        });\n                    },\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n\n            findUserByUsername: function (params) {\n                return ParseCloud.run('findUserByUsername', params);\n            },\n            getPublicData     : function () {\n                var defer = $q.defer();\n                new Parse.Query('UserData')\n                    .equalTo('user', Parse.User.current())\n                    .first()\n                    .then(function (userData) {\n                        if (userData) {\n                            defer.resolve(userData);\n                        } else {\n                            defer.reject(Parse.Promise.error({\n                                code   : 1,\n                                message: 'User Data not found'\n                            }));\n                        }\n                    }, defer.reject);\n\n                return defer.promise;\n            },\n            recoverPassword   : function (email) {\n                var defer = $q.defer();\n                Parse.User.requestPasswordReset(email, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy           : function () {\n                var defer = $q.defer();\n                Parse.User.current().destroy().then(defer.resolve, defer.reject);\n                return defer.promise;\n            },\n            setPhoto          : function (parseFile) {\n                var defer = $q.defer();\n                var user  = Parse.User.current();\n                user.set({'photo': parseFile});\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            follow            : function (otherUser) {\n                // create an entry in the Follow table\n                var follow = new Parse.Object('UserFolow');\n                follow.set('from', Parse.User.current());\n                follow.set('to', otherUser);\n                follow.set('date', Date());\n                follow.save();\n            },\n            all               : function (params) {\n                return ParseCloud.run('getUsers', params);\n            },\n            create            : function (data) {\n                return ParseCloud.run('createUser', data);\n            },\n            validateUsername  : function (input) {\n                var defer = $q.defer();\n                defer.resolve(true);\n\n                //ParseCloud.run('validateUsername', input).then(function (data) {\n                //    console.log(data);\n                //    if (data == true) {\n                //        defer.resolve();\n                //    } else {\n                //        defer.reject();\n                //    }\n                //});\n                return defer.promise;\n            },\n            validateEmail     : function (input) {\n                var defer = $q.defer();\n                defer.resolve(true);\n                //ParseCloud\n                //    .run('validateEmail', input)\n                //    .then(function (data) {\n                //        console.log(data);\n                //        if (data == true) {\n                //            defer.resolve();\n                //        } else {\n                //            defer.reject();\n                //        }\n                //    });\n                return defer.promise;\n            },\n            findUsername      : function (username) {\n                var defer = $q.defer();\n                new Parse.Query(this)\n                    .equalTo('username', username)\n                    .first({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    })\n                return defer.promise;\n            },\n            update            : function (user) {\n                var data = {\n                    'id'      : user.id,\n                    'name'    : user.name,\n                    'email'   : user.email,\n                    'username': user.email,\n                    'password': user.password,\n                    'gender'  : user.gender,\n                    'photo'   : user.photo,\n                    'roleName': user.roleName,\n                }\n                return ParseCloud.run('updateUser', data);\n            },\n            delete            : function (data) {\n                return ParseCloud.run('destroyUser', data);\n            },\n            fetch             : function () {\n                var defer = $q.defer();\n                if (Parse.User.current()) {\n                    Parse.User.current().fetch().then(defer.resolve, defer.reject);\n                } else {\n                    defer.reject();\n                }\n                return defer.promise;\n            }\n\n        });\n\n        Object.defineProperty(User.prototype, 'name', {\n            get: function () {\n                return this.get('name');\n            },\n            set: function (val) {\n                this.set('name', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'username', {\n            get: function () {\n                return this.get('username');\n            },\n            set: function (val) {\n                this.set('username', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'gender', {\n            get: function () {\n                return this.get('gender');\n            },\n            set: function (val) {\n                this.set('gender', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'email', {\n            get: function () {\n                return this.get('email');\n            },\n            set: function (val) {\n                this.set('email', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photo', {\n            get: function () {\n                return this.get('photo');\n            },\n            set: function (val) {\n                this.set('photo', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'photoThumb', {\n            get: function () {\n                return this.get('photoThumb');\n            },\n            set: function (val) {\n                this.set('photoThumb', val);\n            }\n        });\n\n        Object.defineProperty(User.prototype, 'roleName', {\n            get: function () {\n                return this.get('roleName');\n            },\n            set: function (val) {\n                this.set('roleName', val);\n            }\n        });\n\n        return User;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('admin').controller('AdminActivityCtrl', AdminActivityController );\n\n    function AdminActivityController($scope, $mdDialog, $mdToast, GalleryActivity) {\n\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            limit : 40,\n            page  : 1,\n            total : 0,\n            order : '-createdAt',\n            status: '',\n            date  : null\n        };\n\n        $scope.items = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n\n        function showSimpleToast(message) {\n            $mdToast.show(\n                $mdToast.simple().content(message).action('OK').hideDelay(3000)\n            );\n        };\n\n        function loadAll() {\n            $scope.promise = GalleryActivity.feed($scope.query).then(function (data) {\n                $scope.items = data;\n                data.map(function  (item) {\n                    console.log(item);\n                    console.log(item.attributes);\n                })\n            });\n        };\n\n        loadAll();\n\n        function loadCount() {\n            GalleryActivity.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n        loadCount();\n\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            loadAll();\n            loadCount();\n        }\n\n        $scope.onCreateGalleryActivity = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryActivityModalController',\n                templateUrl        : 'app/admin/views/modal/admin.activity.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then(function (answer) {\n                loadAll();\n                loadCount();\n            });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.updateItem = function (ev, place) {\n\n            var objGalleryActivity = angular.copy(place);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryActivityModalController',\n                templateUrl        : 'app/admin/views//modal/admin.activity.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGalleryActivity\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n        $scope.destroyItem = function (ev, place) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Confirm action')\n                                   .content('Are you sure you want to delete this place?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                GalleryActivity.destroy(place).then(function (success) {\n                        showSimpleToast('GalleryActivity deleted.');\n                        loadAll();\n                        loadCount();\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                    });\n\n            });\n        };\n\n        $scope.aproveItem = function (place, isApproved) {\n\n            place.isApproved = isApproved;\n            place.unset('expiresAt');\n\n            GalleryActivity.update(place).then(function (success) {\n                showSimpleToast('GalleryActivity updated');\n            }).catch(function (error) {\n                showSimpleToast('There was an error');\n            });\n\n        };\n\n    }\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AdminCommentCtrl', function ($scope, $mdToast, $mdDialog, Comment, Auth) {\n\n      // Pagination options.\n      $scope.rowOptions = [10, 20, 40];\n\n      $scope.query = {\n        limit: 40,\n        page: 1,\n        total: 0,\n        status: null\n      };\n\n      $scope.comments = [];\n\n      var loadComments = function () {\n        $scope.promise = Comment.all($scope.query).then(function (comments) {\n          $scope.comments = comments;\n        });\n      }\n\n      loadComments();\n\n      var loadCount = function () {\n        Comment.count($scope.query).then(function (total) {\n          $scope.query.total = total;\n        });\n      }\n\n      loadCount();\n\n      var showToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      };\n\n      $scope.onQueryChange = function () {\n        $scope.query.page = 1;\n        loadComments();\n        loadCount();\n      }\n\n      $scope.onPaginationChange = function (page, limit) {\n        $scope.query.page  = page;\n        $scope.query.limit = limit;\n        loadComments();\n      };\n\n      $scope.onUpdateIsInappropriate = function (comment, value) {\n\n        var objComment = angular.copy(comment);\n\n        objComment.isInappropriate = value;\n\n        Comment.update(objComment).then(function (success) {\n          showToast('Comment updated');\n        }, function (error) {\n          showToast('There was an error');\n        });\n      };\n\n      $scope.openMenu = function ($mdOpenMenu, ev) {\n        $mdOpenMenu(ev);\n      };\n    })\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminCtrl', AdminController);\n\n    function AdminController($scope, Auth, $rootScope, $state, $mdSidenav) {\n        var vm       = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminFeedbackCtrl', AdminFeedbackController);\n\n    function AdminFeedbackController($scope, $mdDialog, $mdToast, GalleryFeedback) {\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter  : '',\n            limit   : 40,\n            page    : 1,\n            total   : 0,\n            status  : null,\n            category: null,\n            date    : null\n        };\n\n        $scope.places = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n\n        function showSimpleToast(message) {\n            $mdToast.show(\n                $mdToast.simple().content(message).action('OK').hideDelay(3000)\n            );\n        };\n\n        function loadAll() {\n            $scope.promise = GalleryFeedback.all($scope.query).then(function (galleries) {\n                $scope.galleries = galleries;\n            });\n        };\n\n        loadAll();\n\n        function loadCount() {\n            GalleryFeedback.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n        loadCount();\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            loadAll();\n            loadCount();\n        }\n\n        $scope.onCreateGalleryFeedback = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryFeedbackModalController',\n                templateUrl        : 'app/admin/views/modal/admin.GalleryFeedback.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then(function (answer) {\n                loadAll();\n                loadCount();\n            });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.onUpdateGalleryFeedback = function (ev, place) {\n\n            var objGalleryFeedback = angular.copy(place);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryFeedbackModalController',\n                templateUrl        : 'app/admin/views//modal/admin.GalleryFeedback.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGalleryFeedback\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n        $scope.onDestroyGalleryFeedback = function (ev, place) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Confirm action')\n                                   .content('Are you sure you want to delete this place?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                GalleryFeedback.destroy(place).then(function (success) {\n                        showSimpleToast('GalleryFeedback deleted.');\n                        loadAll();\n                        loadCount();\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                    });\n\n            });\n        };\n\n        $scope.onUpdateIsApproved = function (place, isApproved) {\n\n            place.isApproved = isApproved;\n            place.unset('expiresAt');\n\n            GalleryFeedback\n                .update(place)\n                .then(function (success) {\n                    showSimpleToast('GalleryFeedback updated');\n                })\n                .catch(function (error) {\n                    showSimpleToast('There was an error');\n                });\n\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('AdminGalleryCtrl', AdminGalleryController);\n\n    function AdminGalleryController($scope, $mdDialog, Toast, Gallery) {\n\n        $scope.Model      = Gallery;\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            limit : 10,\n            page  : 1,\n            total : 0,\n            order : '-createdAt',\n            status: '',\n            date  : null\n        };\n\n        $scope.items = [];\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        };\n\n        $scope.init = function () {\n            loadAll();\n            loadCount();\n        };\n\n        $scope.init();\n\n\n        function loadAll() {\n            $scope.promise = Gallery.all($scope.query).then(function (galleries) {\n                galleries.map(function  (item) {\n                    console.log(item);\n                })\n                $scope.galleries = galleries;\n            });\n        };\n\n        function loadCount() {\n            Gallery.count($scope.query).then(function (total) {\n                $scope.query.total = total;\n            });\n        }\n\n\n        $scope.onQueryChange = function () {\n            $scope.query.page  = 1;\n            $scope.query.total = 0;\n            console.log($scope.query);\n            $scope.init();\n        };\n\n        $scope.onCreateGallery = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryModalController',\n                templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: null\n                },\n                clickOutsideToClose: true\n            }).then($scope.init);\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadAll();\n        };\n\n\n        $scope.isDate = function (date) {\n            return angular.isDate(date);\n        }\n\n        $scope.onUpdateGallery = function (ev, item) {\n\n            var objGallery = angular.copy(item);\n\n            $mdDialog.show({\n                controller         : 'AdminGalleryModalController',\n                templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    item: objGallery\n                },\n                clickOutsideToClose: true\n            });\n        };\n\n\n        $scope.onUpdateIsApproved = function (item, isApproved) {\n            item.isApproved = isApproved;\n\n            console.log(item);\n            Gallery.update(item)\n                .then(function (success) {\n                    Toast.simple('Gallery updated');\n                })\n                .catch(function (error) {\n                    Toast.simple('There was an error');\n                });\n\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('admin').controller('AdminHomeCtrl', AdminHomeController);\n\n    function AdminHomeController(ParseCloud) {\n        var vm = this;\n\n        ParseCloud.run('dashboard').then(function (resp) {\n            console.log(resp);\n            vm.dashboard = resp;\n        })\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AdminSettingCtrl',\n      function ($scope, $mdDialog, $mdToast, GallerySetting) {\n\n        console.log('teste');\n\n        // Pagination options\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n          filter  : '',\n          limit   : 40,\n          page    : 1,\n          total   : 0,\n          status  : null,\n          category: null,\n          date    : null\n        };\n\n        $scope.places = [];\n\n        var showSimpleToast = function (message) {\n          $mdToast.show(\n            $mdToast.simple().content(message).action('OK').hideDelay(3000)\n          );\n        };\n\n        var loadGallerySettings = function () {\n          $scope.promise = GallerySetting.all($scope.query).then(function (data) {\n            $scope.galleries = data;\n          });\n        };\n\n        loadGallerySettings();\n\n        var loadCount = function () {\n          GallerySetting.count($scope.query).then(function (total) {\n            $scope.query.total = total;\n          });\n        }\n\n        loadCount();\n\n        $scope.onQueryChange = function () {\n          $scope.query.page  = 1;\n          $scope.query.total = 0;\n\n          console.log($scope.query);\n          loadGallerySettings();\n          loadCount();\n        }\n\n        $scope.onCreateGallerySetting = function (ev) {\n\n          $mdDialog.show({\n            controller         : 'AdminGallerySettingModalController',\n            templateUrl        : 'app/admin/views/modal/admin.gallery.modal.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            locals             : {\n              gallery: null\n            },\n            clickOutsideToClose: true\n          })\n                   .then(function (answer) {\n                     loadGallerySettings();\n                     loadCount();\n                   });\n        };\n\n        $scope.onPaginationChange = function (page, limit) {\n          $scope.query.page  = page;\n          $scope.query.limit = limit;\n          loadGallerySettings();\n        };\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n          $mdOpenMenu(ev);\n        };\n\n        $scope.isDate = function (date) {\n          return angular.isDate(date);\n        }\n\n        $scope.onUpdateExpiresAt = function (ev, place) {\n\n          $mdDialog.show({\n            controller         : 'DialogGallerySettingExpiresAtController',\n            templateUrl        : 'app/admin/views//modal/admin.gallery.modal.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            clickOutsideToClose: true,\n            locals             : {\n              place: place\n            }\n          });\n\n        }\n\n        $scope.onUpdateGallerySetting = function (ev, place) {\n\n          var objGallerySetting = angular.copy(place);\n\n          $mdDialog.show({\n            controller         : 'DialogGallerySettingController',\n            templateUrl        : 'app/admin/views//partials/place.html',\n            parent             : angular.element(document.body),\n            targetEvent        : ev,\n            locals             : {\n              place: objGallerySetting\n            },\n            clickOutsideToClose: true\n          });\n        };\n\n        $scope.onDestroyGallerySetting = function (ev, place) {\n\n          var confirm = $mdDialog.confirm()\n                                 .title('Confirm action')\n                                 .content('Are you sure you want to delete this place?')\n                                 .ok('Delete')\n                                 .cancel('Cancel')\n                                 .targetEvent(ev);\n\n          $mdDialog.show(confirm).then(function () {\n\n            GallerySetting.destroy(place).then(function (success) {\n                showSimpleToast('GallerySetting deleted.');\n                loadGallerySettings();\n                loadCount();\n              },\n              function (error) {\n                showSimpleToast(error.message);\n              });\n\n          });\n        };\n\n        $scope.onUpdateIsApproved = function (place, isApproved) {\n\n          place.isApproved = isApproved;\n          place.unset('expiresAt');\n\n          GallerySetting.update(place).then(function (success) {\n            showSimpleToast('GallerySetting updated');\n          }, function (error) {\n            showSimpleToast('There was an error');\n          });\n\n        };\n\n      })\n    .controller('DialogGallerySettingExpiresAtController',\n      function ($scope, $mdDialog, $mdToast, GallerySetting, place) {\n\n        $scope.place    = place;\n        $scope.formData = {};\n\n        var showToast = function (message) {\n          $mdToast.show(\n            $mdToast.simple()\n                    .content(message)\n                    .action('OK')\n                    .hideDelay(3000)\n          );\n        };\n\n        $scope.isDayInvalid = function () {\n          var days = $scope.formData.days;\n\n          if (days) {\n            days = parseInt(days, 10);\n            return days < 1;\n          }\n          return true;\n        }\n\n        $scope.onUpdateExpiresAt = function () {\n\n          var expiresAt    = moment().add($scope.formData.days, 'days').toDate();\n          place.expiresAt  = expiresAt;\n          place.isApproved = true;\n\n          $scope.isSavingExpiresAt = true;\n\n          GallerySetting.update(place).then(function (success) {\n              $scope.isSavingExpiresAt = false;\n              showToast('GallerySetting updated');\n              $scope.hide();\n            },\n            function (error) {\n              $scope.isSavingExpiresAt = false;\n              showToast('There was an error');\n            });\n        }\n\n        $scope.hide = function () {\n          $mdDialog.hide();\n        };\n\n      });\n})();\n\n(function () {\n    'use strict';\n    angular.module('photogram').controller('AdminSidenavCtrl', AdminSidenavController);\n\n    function AdminSidenavController() {\n        var vm = this;\n        vm.menus = [\n            {\n                title: 'Dashboard',\n                icon : 'icon-newspaper',\n                link : 'admin.home'\n            },\n            {\n                title: 'Gallery',\n                icon : 'icon-image',\n                link : 'admin.gallery'\n            },\n            {\n                title: 'Comments',\n                icon : 'icon-message-text',\n                link : 'admin.comment'\n            },\n            {\n                title: 'Activity',\n                icon : 'icon-heart',\n                link : 'admin.activity'\n            },\n            {\n                title: 'Feedback',\n                icon : 'icon-message-text',\n                link : 'admin.feedback'\n            },\n            {\n                title: 'Users',\n                icon : 'icon-account',\n                link : 'admin.user'\n            },\n            //{\n            //    title: 'Settings',\n            //    icon : 'icon-cog',\n            //    link : 'admin.setting'\n            //},\n\n        ];\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('admin')\n           .controller('AdminUserCtrl', AdminUserController)\n           .controller('DialogUserController', DialogUserController);\n\n    function AdminUserController(User, $scope, $mdDialog, $mdToast, Auth) {\n\n        // Pagination options.\n        $scope.rowOptions = [10, 20, 40];\n\n        $scope.query = {\n            filter: '',\n            order : '-createdAt',\n            limit : 40,\n            page  : 1,\n            total : 0\n        }\n\n        $scope.users = [];\n\n        var showToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        }\n\n        User.fetch().then(function (user) {\n            $scope.loggedUser = user;\n        });\n\n        var loadUsers = function () {\n            $scope.promise = User.all($scope.query).then(function (data) {\n                $scope.users       = data.users;\n                $scope.query.total = data.total;\n            });\n        }\n\n        loadUsers();\n\n        $scope.onSearch = function () {\n            $scope.query.page = 1;\n            loadUsers();\n        }\n\n        $scope.onPaginationChange = function (page, limit) {\n            $scope.query.page  = page;\n            $scope.query.limit = limit;\n            loadUsers();\n        }\n\n        $scope.openMenu = function ($mdOpenMenu, ev) {\n            $mdOpenMenu(ev);\n        }\n\n        $scope.onSaveUser = function (ev) {\n\n            $mdDialog.show({\n                controller         : 'DialogUserController',\n                templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    user: null\n                },\n                clickOutsideToClose: true\n            })\n                     .then(function (answer) {\n                         loadUsers();\n                     });\n        }\n\n        $scope.onUpdateUser = function (ev, user) {\n\n            var objUser = angular.copy(user);\n\n            $mdDialog.show({\n                controller         : 'DialogUserController',\n                templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n                parent             : angular.element(document.body),\n                targetEvent        : ev,\n                locals             : {\n                    user: objUser\n                },\n                clickOutsideToClose: true\n            })\n                     .then(function (answer) {\n                         loadUsers();\n                     });\n        };\n\n        $scope.onDeleteUser = function (ev, user) {\n\n            var confirm = $mdDialog.confirm()\n                                   .title('Are you sure you want to delete the user?')\n                                   .ok('Delete')\n                                   .cancel('Cancel')\n                                   .targetEvent(ev);\n\n            $mdDialog.show(confirm).then(function () {\n\n                User.delete({id: user.id}).then(function () {\n                        loadUsers();\n                        showToast('User ' + user.getUsername() + ' deleted');\n                    },\n                    function (error) {\n                        console.log(error);\n                        showToast(error.message);\n                    });\n            });\n        };\n\n    }\n\n    function DialogUserController(User, ParseFile, $scope, $mdDialog, $mdToast, user) {\n\n        $scope.imageFilename = '';\n        $scope.objUser       = {\n            roleName: 'User'\n        };\n\n        if (user) {\n            $scope.objUser = user;\n            if ($scope.objUser.photo) {\n                $scope.imageFilename = $scope.objUser.photo.name();\n            }\n        }\n\n        var showSimpleToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        };\n\n        $scope.uploadImage = function (file) {\n\n            if (file === null) {\n                return;\n            } else if (file.type.match(/image.*/) === null) {\n                showSimpleToast('File not supported');\n                return;\n            } else if (file.$error) {\n                showSimpleToast('File too large. Max 2MB');\n            } else {\n\n                $scope.imageFilename = file.name;\n                $scope.isUploading   = true;\n\n                ParseFile.upload(file).then(function (savedFile) {\n                    $scope.objUser.photo = savedFile;\n                    $scope.isUploading   = false;\n                    showSimpleToast('File uploaded');\n                }, function (error) {\n\n                    showSimpleToast(error.message);\n                    $scope.isUploading   = false;\n                    $scope.objUser.photo = null;\n\n                });\n            }\n        }\n\n        $scope.onEventSaveUser = function (isValidForm) {\n\n            if (isValidForm) {\n\n                if (!$scope.objUser.password) {\n                    showSimpleToast('Password required');\n                } else if ($scope.objUser.password.length < 6) {\n                    showSimpleToast('Password should be at least 6 characters');\n                } else {\n\n                    $scope.isSavingUser = true;\n\n                    User.create($scope.objUser).then(function (data) {\n                        showSimpleToast('User saved');\n                        $mdDialog.hide();\n                        $scope.isSavingUser = false;\n                    }, function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingUser = false;\n                    });\n                }\n            } else {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            }\n        }\n\n        $scope.onEventUpdateUser = function (isValidForm) {\n\n            if (isValidForm) {\n\n                if ($scope.objUser.password && $scope.objUser.password.length < 6) {\n                    showSimpleToast('Password should be at least 6 characters');\n                    return;\n                }\n\n                $scope.isSavingUser = true;\n\n                User.update($scope.objUser).then(function (data) {\n                    showSimpleToast('User updated');\n                    $mdDialog.hide();\n                    $scope.isSavingUser = false;\n                }, function (error) {\n                    showSimpleToast(error.message);\n                    $scope.isSavingUser = false;\n                });\n            } else {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            }\n        }\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        }\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        }\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('admin')\n    .controller('AminGalleryActivityModalController', AminGalleryActivityModalController );\n\n    function AminGalleryActivityModalController($scope, $mdDialog, $mdToast, Gallery, ParseFile, NgMap, GeoCoder, item) {\n\n        var marker, map;\n\n        $scope.gallery = {\n            title: ''\n        };\n        $scope.input   = {};\n\n        $scope.isCreating            = true;\n        $scope.isImageOneUploading   = false;\n        $scope.isImageTwoUploading   = false;\n        $scope.isImageThreeUploading = false;\n        $scope.isImageFourUploading  = false;\n\n        if (item) {\n\n            $scope.gallery = item;\n            if ($scope.gallery.image) {\n                $scope.imageOneFilename = $scope.gallery.image.name();\n            }\n\n            $scope.input.latitude  = item.location.latitude;\n            $scope.input.longitude = item.location.longitude;\n\n            $scope.isCreating = false;\n        }\n\n        var showSimpleToast = function (message) {\n            $mdToast.show(\n                $mdToast.simple()\n                        .content(message)\n                        .action('OK')\n                        .hideDelay(3000)\n            );\n        };\n\n        $scope.onAddressChanged = function () {\n            GeoCoder.geocode({address: $scope.gallery.address}).then(function (result) {\n\n                if (map) {\n\n                    var location = result[0].geometry.location;\n                    location     = new google.maps.LatLng(location.lat(), location.lng());\n\n                    map.setCenter(location);\n                    map.setZoom(15);\n\n                    marker.setPosition(location);\n\n                    $scope.gallery.location = new Parse.GeoPoint({\n                        latitude : location.lat(),\n                        longitude: location.lng()\n                    });\n\n                    $scope.input.latitude  = location.lat();\n                    $scope.input.longitude = location.lng();\n                }\n            });\n        }\n\n        NgMap.getMap().then(function (objMap) {\n\n            map    = objMap;\n            marker = map.markers[0];\n\n            // Fix gray area in second render\n            google.maps.event.trigger(map, 'resize');\n\n            if (item) {\n\n                var galleryLocation = new google.maps.LatLng(\n                    item.location.latitude,\n                    item.location.longitude);\n\n                map.setCenter(galleryLocation)\n                marker.setPosition(galleryLocation);\n                map.setZoom(15);\n            } else {\n                map.setZoom(1);\n                map.setCenter(new google.maps.LatLng(0, 0));\n            }\n        });\n\n\n        $scope.onMarkerDragEnd = function (ev) {\n\n            var lat = ev.latLng.lat();\n            var lng = ev.latLng.lng();\n\n            $scope.gallery.location = new Parse.GeoPoint({\n                latitude : lat,\n                longitude: lng\n            });\n\n            $scope.input.latitude  = lat;\n            $scope.input.longitude = lng;\n        };\n\n        $scope.onInputLocationChanged = function () {\n\n            if ($scope.input.latitude && $scope.input.longitude && map) {\n\n                $scope.gallery.location = new Parse.GeoPoint({\n                    latitude : $scope.input.latitude,\n                    longitude: $scope.input.longitude\n                });\n\n                marker.setPosition(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setCenter(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setZoom(12);\n            }\n        }\n\n        $scope.uploadImageOne = function (file, invalidFile) {\n\n            if (file) {\n\n                $scope.isImageOneUploading = true;\n                $scope.imageOneFilename    = file.name;\n\n                ParseFile.upload(file).then(function (savedFile) {\n\n                        $scope.gallery.image       = savedFile;\n                        $scope.isImageOneUploading = false;\n                        showSimpleToast('Image uploaded');\n                    },\n                    function (error) {\n                        $scope.isImageOneUploading = false;\n                        showSimpleToast(error.message);\n                    });\n\n            } else {\n                if (invalidFile) {\n                    if (invalidFile.$error === 'maxSize') {\n                        showSimpleToast('Image too big. Max ' + invalidFile.$errorParam);\n                    }\n                }\n            }\n        };\n\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.onSaveGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            } else if (!$scope.gallery.image) {\n                showSimpleToast('Upload at least the first image');\n            } else if (!$scope.gallery.location) {\n                showSimpleToast('Ubication is required')\n            }\n            else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.create($scope.gallery).then(function (gallery) {\n                        showSimpleToast('Gallery saved');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n            }\n        };\n\n        $scope.onUpdateGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                showSimpleToast('Please correct all highlighted errors and try again');\n            } else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.update($scope.gallery).then(function (gallery) {\n                        showSimpleToast('Gallery updated');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        showSimpleToast(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('admin').controller('AdminGalleryModalController',  AdminGalleryModalController );\n\n    function AdminGalleryModalController($scope, $mdDialog, Toast, Gallery, ParseFile, NgMap, GeoCoder, item) {\n\n        var marker, map;\n\n        $scope.gallery = {\n            title: ''\n        };\n        $scope.input   = {};\n\n        $scope.isCreating            = true;\n        $scope.isImageOneUploading   = false;\n        $scope.isImageTwoUploading   = false;\n        $scope.isImageThreeUploading = false;\n        $scope.isImageFourUploading  = false;\n\n        if (item) {\n            $scope.gallery = item;\n            if ($scope.gallery.image) {\n                $scope.imageOneFilename = $scope.gallery.image.name();\n            }\n\n            $scope.input.latitude  = item.location.latitude;\n            $scope.input.longitude = item.location.longitude;\n\n            $scope.isCreating = false;\n        }\n\n        $scope.onAddressChanged = function () {\n            GeoCoder.geocode({address: $scope.gallery.address}).then(function (result) {\n\n                if (map) {\n\n                    var location = result[0].geometry.location;\n                    location     = new google.maps.LatLng(location.lat(), location.lng());\n\n                    map.setCenter(location);\n                    map.setZoom(15);\n\n                    marker.setPosition(location);\n\n                    $scope.gallery.location = new Parse.GeoPoint({\n                        latitude : location.lat(),\n                        longitude: location.lng()\n                    });\n\n                    $scope.input.latitude  = location.lat();\n                    $scope.input.longitude = location.lng();\n                }\n            });\n        }\n\n        NgMap.getMap().then(function (objMap) {\n\n            map    = objMap;\n            marker = map.markers[0];\n\n            // Fix gray area in second render\n            google.maps.event.trigger(map, 'resize');\n\n            if (item) {\n\n                var galleryLocation = new google.maps.LatLng(\n                    item.location.latitude,\n                    item.location.longitude);\n\n                map.setCenter(galleryLocation)\n                marker.setPosition(galleryLocation);\n                map.setZoom(15);\n            } else {\n                map.setZoom(1);\n                map.setCenter(new google.maps.LatLng(0, 0));\n            }\n        });\n\n\n        $scope.onMarkerDragEnd = function (ev) {\n\n            var lat = ev.latLng.lat();\n            var lng = ev.latLng.lng();\n\n            $scope.gallery.location = new Parse.GeoPoint({\n                latitude : lat,\n                longitude: lng\n            });\n\n            $scope.input.latitude  = lat;\n            $scope.input.longitude = lng;\n        };\n\n        $scope.onInputLocationChanged = function () {\n\n            if ($scope.input.latitude && $scope.input.longitude && map) {\n\n                $scope.gallery.location = new Parse.GeoPoint({\n                    latitude : $scope.input.latitude,\n                    longitude: $scope.input.longitude\n                });\n\n                marker.setPosition(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setCenter(new google.maps.LatLng(\n                    $scope.input.latitude,\n                    $scope.input.longitude\n                ));\n\n                map.setZoom(12);\n            }\n        }\n\n        $scope.uploadImageOne = function (file, invalidFile) {\n\n            if (file) {\n\n                $scope.isImageOneUploading = true;\n                $scope.imageOneFilename    = file.name;\n\n                ParseFile.upload(file).then(function (savedFile) {\n\n                        $scope.gallery.image       = savedFile;\n                        $scope.isImageOneUploading = false;\n                        Toast.simple('Image uploaded');\n                    },\n                    function (error) {\n                        $scope.isImageOneUploading = false;\n                        Toast.simple(error.message);\n                    });\n\n            } else {\n                if (invalidFile) {\n                    if (invalidFile.$error === 'maxSize') {\n                        Toast.simple('Image too big. Max ' + invalidFile.$errorParam);\n                    }\n                }\n            }\n        };\n\n\n        $scope.hide = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.cancel = function () {\n            $mdDialog.cancel();\n        };\n\n        $scope.onSaveGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                Toast.simple('Please correct all highlighted errors and try again');\n            } else if (!$scope.gallery.image) {\n                Toast.simple('Upload at least the first image');\n            } else if (!$scope.gallery.location) {\n                Toast.simple('Ubication is required')\n            }\n            else {\n                $scope.isSavingGallery = true;\n\n                console.log($scope.gallery);\n                Gallery.create($scope.gallery).then(function (gallery) {\n                        Toast.simple('Gallery saved');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        Toast.simple(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n            }\n        };\n\n        $scope.onUpdateGallery = function (isFormValid) {\n\n            if (!isFormValid) {\n                Toast.simple('Please correct all highlighted errors and try again');\n            } else {\n\n                $scope.isSavingGallery = true;\n\n                Gallery.update($scope.gallery).then(function (gallery) {\n                        Toast.simple('Gallery updated');\n                        $mdDialog.hide();\n                        $scope.isSavingGallery = false;\n                    },\n                    function (error) {\n                        Toast.simple(error.message);\n                        $scope.isSavingGallery = false;\n                    });\n\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('ActivityCtrl', ActivityController);\n\n    function ActivityController($scope, GalleryActivity) {\n        var vm         = this;\n        vm.params      = {};\n        vm.params.page = 1;\n        vm.data        = [];\n\n        loadFeed();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                vm.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            vm.params.page = page;\n        }\n\n        function loadFeed() {\n\n            GalleryActivity.feed(vm.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage(vm.params.page + 1);\n                setGalleries(data);\n\n                if (vm.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function () {\n                if (vm.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        vm.onLoadMore = function () {\n            loadFeed();\n        };\n\n        vm.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        vm.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        vm.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        vm.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        vm.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n        vm.onReload = function () {\n            vm.params.page = 0;\n            vm.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('AuthLayoutCtrl', AuthLayoutController);\n\n    function AuthLayoutController() {\n        var vm        = this;\n        vm.slideIndex = 0;\n\n        vm.slideChanged = function (index) {\n            vm.slideIndex = index;\n        };\n\n        vm.slides = [\n            {src: 'assets/images/screen1.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen2.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen3.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen4.jpg', description: 'Photogram Screenshot'},\n            {src: 'assets/images/screen5.jpg', description: 'Photogram Screenshot'},\n        ]\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('EditProfileSidenavCtrl', EditProfileSidenavController);\n\n    function EditProfileSidenavController($scope, $state) {\n        var vm = this;\n        $scope.menus = [\n            {icon: 'icon-user', title: 'Edit profile', link: 'app.editProfile.account'},\n            {icon: 'icon-lock', title: 'Change password', link: 'app.editProfile.password'},\n        ];\n\n        $scope.goLink = function  (link) {\n            $state.go(link);\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('admin').controller('InstallCtrl', InstallController);\n\n    function InstallController( Install, $state, Toast) {\n        var vm  = this;\n\n        Install.status().then(function  (resp) {\n            console.log(resp);\n        }).catch(function  (resp) {\n            console.log(resp);\n        });\n\n\n        vm.form = {\n            name                : '',\n            username            : '',\n            password            : '',\n            passwordConfirmation: ''\n        }\n\n        function init() {\n            vm.loading = true;\n            //$state.go('app.feed');\n        }\n\n\n        init();\n\n        vm.onSubmit = function (rForm, form) {\n            console.log(form);\n            vm.loading = true;\n\n            if (!rForm.invalid) {\n                Install\n                    .start(angular.copy(form))\n                    .then(function (data) {\n                        console.log(data);\n                        Toast.simple(\"Server Installed\");\n                        $state.go('admin.login');\n                        vm.loading = false;\n                    })\n                    .catch(function (data) {\n                        Toast.simple(data.message);\n                        vm.loading = false;\n                    });\n\n            }\n        }\n        ;\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('UserLoginCtrl', LoginController);\n\n    function LoginController($rootScope, $state, Toast, Auth, User) {\n        var vm = this;\n\n        vm.onLogin = function (rForm, form) {\n\n            console.log(form);\n\n            if (!rForm.$invalid) {\n                vm.loading = true;\n                User.signIn({\n                    username   : form.username,\n                    password: form.password\n                }).then(function (user) {\n                    console.log(user);\n                    console.log(user.attributes);\n                    vm.loading             = false;\n                    console.log(Parse.User.current().attributes);\n                    $rootScope.currentUser = Auth.getLoggedUser();\n                    $state.go('app.feed');\n                }).catch(function (resp) {\n                    console.log(resp);\n                    Toast.simple('Invalid login');\n                    vm.loading = false;\n                });\n            } else {\n                Toast.simple('All inputs required');\n            }\n        };\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('public').controller('MainCtrl', MainController);\n\n    function MainController($state, $rootScope) {\n        var vm = this;\n\n        $rootScope.currentUser = Parse.User.current();\n\n        //if ($rootScope.currentUser) {\n        //    $state.go('admin.home');\n        //} else {\n        //    $state.go('admin.login');\n        //}\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('ProfileCtrl', ProfileController);\n\n    function ProfileController(Gallery, $scope, $state, $mdDialog, profile) {\n        var vm = this;\n\n        console.log(profile);\n        $scope.params          = {};\n        $scope.params.page     = 1;\n        $scope.user            = profile.attributes;\n        $scope.params.username = profile.attributes.username;\n        $scope.data            = [];\n\n\n        $scope.openMenu = function (ev) {\n\n            $mdDialog.show($mdDialog.confirm()\n                                    .title('Logout?')\n                                    .ariaLabel('Logout')\n                                    .targetEvent(ev)\n                                    .ok('Yes')\n                                    .cancel('Cancel')).then(function () {\n                $state.go('app.logout');\n            });\n        };\n\n        loadFeed();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                $scope.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            $scope.params.page = page;\n        }\n\n        function loadFeed() {\n\n            Gallery.feed($scope.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage($scope.params.page + 1);\n                setGalleries(data);\n\n                if ($scope.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function () {\n                if ($scope.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        $scope.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        $scope.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        $scope.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        $scope.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n        $scope.onReload = function () {\n            $scope.params.page = 0;\n            $scope.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('SearchCtrl', SearchController);\n\n    function SearchController() {\n        var vm = this;\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('photogram').controller('SidenavCtrl', SidenavController);\n\n    function SidenavController($scope, $mdSidenav) {\n        var vm = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        };\n\n        $scope.menus = [\n\n            {\n                title: 'Dashboard',\n                icon : 'icon-newspaper',\n                link : 'app.admin.dashboard'\n            },\n            {\n                title: 'Gallery',\n                icon : 'icon-image',\n                link : 'app.admin.gallery'\n            },\n            {\n                title: 'Comments',\n                icon : 'icon-message-text',\n                link : 'app.admin.comment'\n            },\n            {\n                title: 'Activity',\n                icon : 'icon-heart',\n                link : 'app.admin.activity'\n            },\n            {\n                title: 'Feedback',\n                icon : 'icon-message-text',\n                link : 'app.admin.feedback'\n            },\n            {\n                title: 'Users',\n                icon : 'icon-account',\n                link : 'app.admin.user'\n            },\n            {\n                title: 'Settings',\n                icon : 'icon-cog',\n                link : 'app.admin.setting'\n            },\n        ];\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('ToolbarCtrl', ToolbarController);\n\n    function ToolbarController($scope, $mdSidenav, Auth, $state) {\n        var vm = this;\n\n        $scope.toggle = function () {\n            $mdSidenav('leftMenu').toggle();\n        };\n\n        $scope.isAdmin = function () {\n            if (Parse.User.current()) {\n                return Parse.User.current().attributes.roleName === 'Admin' ? true : false;\n            } else {\n                return false;\n            }\n        };\n\n        $scope.homeLink = function () {\n            if (Parse.User.current()) {\n                $state.go('app.feed');\n            } else {\n                $state.go('app.auth.register');\n            }\n        };\n\n\n        $scope.profile = function () {\n            var user = Auth.getLoggedUser();\n            console.log(user);\n\n            if (user.id) {\n                $state.go('app.profile', {username: user.attributes.username})\n            } else {\n                $state.go('app.auth.register');\n            }\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular\n    .module('public')\n    .controller('UserCtrl', function (User, $scope, $mdDialog, $mdToast, Auth) {\n\n      // Pagination options.\n      $scope.rowOptions = [10, 20, 40];\n\n      $scope.query = {\n        filter: '',\n        limit : 40,\n        page  : 1,\n        order : '-createdAt',\n        total : 0\n      }\n\n      $scope.users = [];\n\n      var showToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      }\n\n      // Auth.ensureLoggedIn().then(function () {\n      User.fetch().then(function (user) {\n        $scope.loggedUser = user;\n      })\n      // });\n\n      var loadUsers = function () {\n        $scope.promise = User.all($scope.query).then(function (data) {\n          console.log(data);\n          $scope.users = data.users;\n          $scope.query.total = data.total;\n        });\n      }\n\n      loadUsers();\n\n      $scope.onSearch = function () {\n        $scope.query.page = 1;\n        loadUsers();\n      }\n\n      $scope.onPaginationChange = function (page, limit) {\n        $scope.query.page = page;\n        $scope.query.limit = limit;\n        loadUsers();\n      }\n\n      $scope.openMenu = function ($mdOpenMenu, ev) {\n        var originatorEv = ev;\n        $mdOpenMenu(ev);\n      }\n\n      $scope.onSaveUser = function (ev) {\n\n        $mdDialog.show({\n          controller         : 'DialogUserController',\n          templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n          parent             : angular.element(document.body),\n          targetEvent        : ev,\n          locals             : {\n            user: null\n          },\n          clickOutsideToClose: true\n        })\n                 .then(function (answer) {\n                   loadUsers();\n                 });\n      }\n\n      $scope.onUpdateUser = function (ev, user) {\n\n        var objUser = angular.copy(user);\n\n        $mdDialog.show({\n          controller         : 'DialogUserController',\n          templateUrl        : 'app/admin/views/modal/admin.user.modal.html',\n          parent             : angular.element(document.body),\n          targetEvent        : ev,\n          locals             : {\n            user: objUser\n          },\n          clickOutsideToClose: true\n        })\n                 .then(function (answer) {\n                   loadUsers();\n                 });\n      };\n\n      $scope.onDeleteUser = function (ev, user) {\n\n        var confirm = $mdDialog.confirm()\n                               .title('Are you sure you want to delete the user?')\n                               .ok('Delete')\n                               .cancel('Cancel')\n                               .targetEvent(ev);\n\n        $mdDialog.show(confirm).then(function () {\n\n          User.delete({id: user.id}).then(function () {\n              loadUsers();\n              showToast('User ' + user.getUsername() + ' deleted');\n            },\n            function (error) {\n              console.log(error);\n              showToast(error.message);\n            });\n        });\n      };\n\n    }).controller('DialogUserController',\n    function (User, ParseFile, $scope, $mdDialog, $mdToast, user) {\n\n      $scope.imageFilename = '';\n      $scope.objUser = {\n        roleName: 'User'\n      };\n\n      if (user) {\n        $scope.objUser = user;\n        if ($scope.objUser.photo) {\n          $scope.imageFilename = $scope.objUser.photo.name();\n        }\n      }\n\n      var showSimpleToast = function (message) {\n        $mdToast.show(\n          $mdToast.simple()\n                  .content(message)\n                  .action('OK')\n                  .hideDelay(3000)\n        );\n      };\n\n      $scope.uploadImage = function (file) {\n\n        if (file === null) {\n          return;\n        } else if (file.type.match(/image.*/) === null) {\n          showSimpleToast('File not supported');\n          return;\n        } else if (file.$error) {\n          showSimpleToast('File too large. Max 2MB');\n        } else {\n\n          $scope.imageFilename = file.name;\n          $scope.isUploading = true;\n\n          ParseFile.upload(file).then(function (savedFile) {\n            $scope.objUser.photo = savedFile;\n            $scope.isUploading = false;\n            showSimpleToast('File uploaded');\n          }, function (error) {\n\n            showSimpleToast(error.message);\n            $scope.isUploading = false;\n            $scope.objUser.photo = null;\n\n          });\n        }\n      }\n\n      $scope.onEventSaveUser = function (isValidForm) {\n\n        if (isValidForm) {\n\n          if (!$scope.objUser.password) {\n            showSimpleToast('Password required');\n          } else if ($scope.objUser.password.length < 6) {\n            showSimpleToast('Password should be at least 6 characters');\n          } else {\n\n            $scope.isSavingUser = true;\n\n            User.create($scope.objUser).then(function (data) {\n              showSimpleToast('User saved');\n              $mdDialog.hide();\n              $scope.isSavingUser = false;\n            }, function (error) {\n              showSimpleToast(error.message);\n              $scope.isSavingUser = false;\n            });\n          }\n        } else {\n          showSimpleToast('Please correct all highlighted errors and try again');\n        }\n      }\n\n      $scope.onEventUpdateUser = function (isValidForm) {\n\n        if (isValidForm) {\n\n          if ($scope.objUser.password && $scope.objUser.password.length < 6) {\n            showSimpleToast('Password should be at least 6 characters');\n            return;\n          }\n\n          $scope.isSavingUser = true;\n\n          User.update($scope.objUser).then(function (data) {\n            showSimpleToast('User updated');\n            $mdDialog.hide();\n            $scope.isSavingUser = false;\n          }, function (error) {\n            showSimpleToast(error.message);\n            $scope.isSavingUser = false;\n          });\n        } else {\n          showSimpleToast('Please correct all highlighted errors and try again');\n        }\n      }\n\n      $scope.hide = function () {\n        $mdDialog.cancel();\n      }\n\n      $scope.cancel = function () {\n        $mdDialog.cancel();\n      }\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('public').controller('UserLogoutCtrl', UserLogoutController);\n\n    function UserLogoutController(Auth, $rootScope, $state) {\n\n        Auth.logOut().then(function () {\n            $rootScope.currentUser = null;\n            $state.go('app.auth.register');\n        });\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('public').controller('UserRegisterCtrl', UserRegisterController);\n\n    function UserRegisterController(User, $rootScope, Auth, $state, Toast) {\n        var vm  = this;\n        vm.form = {\n            name                : '',\n            username            : '',\n            password            : '',\n            passwordConfirmation: ''\n        }\n\n        vm.genders = [\n            {\n                text : 'USER.FORM.MAN',\n                value: 'man'\n            },\n            {\n                text : 'USER.FORM.WOMAN',\n                value: 'woman'\n            }\n        ];\n\n        vm.validateUsername = function (input) {\n            return User.validateUsername({input: input});\n        };\n\n        vm.validateEmail = function (input) {\n            return User.validateEmail({input: input});\n        };\n\n\n        vm.onSubmit = function (rForm, form) {\n            console.log(rForm, form);\n\n            if (!rForm.$invalid) {\n                vm.loading   = true;\n                var userForm = angular.copy(form);\n                delete userForm.passwordConfirmation;\n\n                User.signUp(userForm).then(function (data) {\n                    console.log(data);\n                    Toast.simple(\"Server Installed\");\n                    User.signIn({\n                        username   : userForm.username,\n                        password: userForm.password\n                    }).then(function (user) {\n                        console.log(user);\n                        console.log(user.attributes);\n                        vm.loading             = false;\n                        $rootScope.currentUser = Auth.getLoggedUser();\n                        console.log(Parse.User.current().attributes);\n                        $state.go('app.feed');\n                    }).catch(function (resp) {\n                        console.log(resp);\n                        Toast.simple('Invalid login');\n                        vm.loading = false;\n                    });\n\n                }).catch(function (data) {\n                    Toast.simple(data.message);\n                    vm.loading = false;\n                });\n            } else {\n                Toast.simple('Complete all fields');\n            }\n        }\n        ;\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('admin').controller('UserResetPasswordCtrl', UserResetPasswordCtrl);\n\n    function UserResetPasswordCtrl($scope, Toast, $mdDialog, Auth) {\n\n        $scope.isLoading = false;\n\n        var showDialog = function (title, message, ev) {\n\n            $mdDialog.show(\n                $mdDialog.alert()\n                         .parent(angular.element(document.body))\n                         .clickOutsideToClose(true)\n                         .title(title)\n                         .content(message)\n                         .ariaLabel('Alert Dialog')\n                         .ok('Ok')\n                         .targetEvent(ev)\n            );\n        }\n\n        $scope.onReset = function (rForm, form, $event) {\n\n            if (!rForm.$invalid) {\n\n                $scope.isLoading = true;\n                Auth.resetPassword($scope.email).then(function (success) {\n                    $scope.isLoading = false;\n                    showDialog('Success', 'Check your email to reset your password', $event);\n                }, function (error) {\n                    $scope.isLoading = false;\n                    showDialog('Error', error.message, $event);\n                })\n            }\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('public').controller('FeedCtrl', FeedController);\n\n    function FeedController(Gallery, $scope) {\n        var vm = this;\n        console.log('Feed Controller');\n\n        $scope.params      = {};\n        $scope.params.page = 1;\n        $scope.data        = [];\n\n        $scope.onReload = function () {\n            $scope.params.page = 0;\n            $scope.data        = [];\n            showLoading();\n            loadFeed();\n            $scope.loading = true;\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        $scope.onReload();\n\n        var isLoadingViewShown   = false;\n        var isGalleriesViewShown = false;\n        var isErrorViewShown     = false;\n        var isEmptyViewShown     = false;\n\n        var isMoreData = false;\n\n        function showLoading() {\n            isLoadingViewShown   = true;\n            isGalleriesViewShown = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showGalleries() {\n            isGalleriesViewShown = true;\n            isLoadingViewShown   = false;\n            isErrorViewShown     = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showErrorView() {\n            isErrorViewShown     = true;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n            isEmptyViewShown     = false;\n        }\n\n        function showEmptyView() {\n            isEmptyViewShown     = true;\n            isErrorViewShown     = false;\n            isGalleriesViewShown = false;\n            isLoadingViewShown   = false;\n        }\n\n\n        function ensureMoreData(length) {\n            isMoreData = false;\n            if (length > 0) {\n                isMoreData = true;\n            }\n        }\n\n        function setGalleries(data) {\n            for (var i = 0; i < data.length; i++) {\n                $scope.data.push(data[i]);\n            }\n        }\n\n        function setCurrentPage(page) {\n            $scope.params.page = page;\n        }\n\n        function loadFeed() {\n\n            Gallery.feed($scope.params).then(function (data) {\n                ensureMoreData(data.length);\n                setCurrentPage($scope.params.page + 1);\n                setGalleries(data);\n\n                if ($scope.data.length === 0) {\n                    showEmptyView();\n                } else {\n                    showGalleries();\n                }\n\n                $scope.$broadcast('scroll.infiniteScrollComplete');\n                $scope.$broadcast('scroll.refreshComplete');\n                $scope.loading = false;\n\n            }).catch(function () {\n                if ($scope.data.length === 0) {\n                    showErrorView();\n                }\n                isMoreData     = false;\n                $scope.loading = false;\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.moreDataCanBeLoaded = function () {\n            return isMoreData;\n        };\n\n        $scope.showLoadingView = function () {\n            return isLoadingViewShown;\n        };\n\n        $scope.showGalleries = function () {\n            return isGalleriesViewShown;\n        };\n\n        $scope.showErrorView = function () {\n            return isErrorViewShown;\n        };\n\n        $scope.showEmptyView = function () {\n            return isEmptyViewShown;\n        };\n\n\n    }\n\n})();\n;(function() {\n\"use strict\";\n\nangular.module(\"photogram\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/directives/mWidgetDirective.html\",\"<div layout=\\\"row\\\" flex><md-card class=\\\"md-padding\\\" layout=\\\"column\\\"><div layout=\\\"column\\\" layout-align=\\\"center center\\\" \\nflex><h1 class=\\\"title\\\" ng-bind-html=\\\"title\\\"></h1><h3 class=\\\"value\\\" ng-bind-html=\\\"value\\\"></h3></div><div \\nclass=\\\"background-image-center\\\"><md-icon md-font-icon=\\\"icon-user\\\"></md-icon></div></md-card></div>\");\n$templateCache.put(\"app/admin/views/admin.activity.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Activity</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-itemholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar><md-table-container>\\n<table md-table md-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" md-on-reorder=\\\"onQueryChange\\\"><tr md-row>\\n<th md-column>Avatar</th><th md-column>From User</th><th md-column>Action</th><th md-column>To User</th><th md-column>\\nGallery</th><th md-column>Status</th><th md-column md-order-by=\\\"createdAt\\\">Created At</th><th name=\\\"Actions\\\"></th></tr>\\n</thead><tbody md-body><tr md-row ng-repeat=\\\"item in items\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ item.fromUser.attributes.photo._url }}\\\"></td><td md-cell>\\n{{:: item.user.name}}</td><td md-cell>{{:: item.action }}</td><td md-cell>{{:: item.user.attributes.name}}</td><td \\nmd-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ item.attributes.gallery.attributes.image._url }}\\\"></td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': item.getStatus() === \\'Approved\\',\\n\t\t\t\t\t\t\t\\'red\\': item.getStatus() === \\'Rejected\\' }\\\">\\n{{ item.getStatus() }}</span></td><td md-cell>{{ item.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit item\\\" ng-click=\\\"updateItem($event, item)\\\">Edit\\n</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete item\\\"><md-button aria-label=\\\"Delete item\\\" \\nng-click=\\\"destroyItem($event, item)\\\">Delete</md-button></md-menu-item><md-divider></md-divider><md-menu-item><md-button\\n aria-label=\\\"Approve item\\\" ng-click=\\\"aproveItem(item, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button\\n aria-label=\\\"Reject item\\\" ng-click=\\\"aproveItem(item, false)\\\">Reject</md-button></md-menu-item></md-menu-content>\\n</md-menu></td></tr></tbody></table></md-table-container><md-table-pagination md-options=\\\"rowOptions\\\" \\nmd-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" \\naria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-card></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.comment.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Comment</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container class=\\\"md-block\\\"><label>\\nStatus</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\"><md-option value=\\\"\\\">All</md-option>\\n<md-option value=\\\"inappropriate\\\">Inappropriate</md-option><md-option value=\\\"appropriate\\\">Appropriate</md-option>\\n</md-select></md-input-container></div></md-content></div></md-table-toolbar><md-table-container><table md-table \\nmd-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" md-on-reorder=\\\"onQueryChange\\\"><tr md-row><th md-column>\\n</th><th md-column>Name</th><th md-column>Comment</th><th md-column>Rating</th><th md-column>Place</th><th md-column \\nmd-order-by=\\\"createdAt\\\">Created At</th><th md-column></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"comment in comments\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ comment.userData.get(\\'photo\\').url() }}\\\"></td><td md-cell>{{ comment.userData.get(\\'name\\') }}</td><td \\nmd-cell><span><md-tooltip md-direction=\\\"top\\\">{{ comment.comment }}</md-tooltip>{{ comment.comment }}</span></td><td \\nmd-cell>{{ comment.place.get(\\'title\\') }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'red\\': comment.getStatus() === \\'Inappropriate\\' }\\\">{{ comment.getStatus() }}</span></td><td md-cell>\\n{{ item.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu><md-button aria-label=\\\"Open menu\\\" \\nclass=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><ng-md-icon md-menu-origin icon=\\\"more_vert\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"></ng-md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\naria-label=\\\"Mark as appropriate\\\" ng-click=\\\"onUpdateIsInappropriate(comment, false)\\\">Flag as appropriate</md-button>\\n</md-menu-item><md-menu-item><md-button aria-label=\\\"Mark as inappropriate\\\" \\nng-click=\\\"onUpdateIsInappropriate(comment, true)\\\">Flag as inappropriate</md-button></md-menu-item></md-menu-content>\\n</md-menu></td></tr></tbody></table></md-table-container><md-table-pagination md-options=\\\"rowOptions\\\" \\nmd-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.feedback.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Feedback</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head><tr md-row><th md-column>Image</th><th \\nmd-column>Title</th><th md-column>User</th><th md-column>Avatar</th><th md-column>Hashtags</th><th md-column>Status\\n</th><th md-column>Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ gallery.attributes.imageThumb._url }}\\\"></td><td md-cell>{{:: gallery.title }}</td><td md-cell>\\n{{:: gallery.user.attributes.name}}</td><td md-cell><img class=\\\"img-thumb img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ gallery.user.attributes.photo._url }}\\\"></td><td md-cell>\\n{{:: gallery.hashtags }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': gallery.getStatus() === \\'Approved\\',\\n\t\t\t\t\t\t\t\\'red\\': gallery.getStatus() === \\'Rejected\\' }\\\">\\n{{ gallery.getStatus() }}</span></td><td md-cell>{{ gallery.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" ng-click=\\\"onDestroyGallery($event, gallery)\\\">Delete</md-button></md-menu-item>\\n<md-divider></md-divider><md-menu-item><md-button aria-label=\\\"Approve gallery\\\" \\nng-click=\\\"onUpdateIsApproved(gallery, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Reject gallery\\\" ng-click=\\\"onUpdateIsApproved(gallery, false)\\\">Reject</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select \\nmd-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button \\nclass=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon \\nclass=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-card>\\n</ion-content>\");\n$templateCache.put(\"app/admin/views/admin.gallery.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Gallery</h1><md-card><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"approved\\\">Approved</md-option><md-option value=\\\"rejected\\\">Rejected\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head md-order=\\\"query.order\\\" \\nmd-on-reorder=\\\"onQueryChange\\\"><tr md-row><th md-column>Image</th><th md-column md-order-by=\\\"title\\\">Title</th><th \\nmd-column>User</th><th md-column></th><th md-column>Comments</th><th md-column>Like</th><th md-column>Status</th><th \\nmd-column md-order-by=\\\"createdAt\\\">Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ gallery.imageThumb._url }}\\\"></td><td md-cell>{{:: gallery.title }}</td><td md-cell><img \\nclass=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ gallery.user.photo._url }}\\\"></td>\\n<td md-cell>{{:: gallery.user.name}}</td><td md-cell>{{:: gallery.commentsTotal }}</td><td md-cell>\\n{{:: gallery.likesTotal }}</td><td md-cell><span class=\\\"label\\\" \\nng-class=\\\"{ \\'green\\': gallery.isApproved == true,\\n\t\t\t\t\t\t\t\\'red\\': gallery.isApproved === false }\\\">\\n{{ gallery.getStatus() }}</span></td><td md-cell>{{ gallery.createdAt | date:\\'mediumDate\\' }}</td><td md-cell><md-menu>\\n<md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" delete-item model=\\\"Model\\\" item=\\\"gallery\\\" on-delete=\\\"init\\\">Delete</md-button>\\n</md-menu-item><md-divider></md-divider><md-menu-item><md-button aria-label=\\\"Approve gallery\\\" \\nng-click=\\\"onUpdateIsApproved(gallery.galleryObj, true)\\\">Approve</md-button></md-menu-item><md-menu-item><md-button \\naria-label=\\\"Reject gallery\\\" ng-click=\\\"onUpdateIsApproved(gallery.galleryObj, false)\\\">Reject</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" md-page-select \\nmd-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card></ion-content><md-button\\n class=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon \\nclass=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/admin/views/admin.home.html\",\"<ion-content class=\\\"container-admin\\\"><div layout=\\\"row\\\" flex=\\\"100\\\" flex-gt-xs=\\\"50\\\" flex-gt-md=\\\"25\\\"><m-widget \\nng-repeat=\\\"data in vm.dashboard\\\" title=\\\"data.title\\\" value=\\\"data.value\\\" icon=\\\"icon-user\\\"></m-widget></div></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.setting.html\",\"<ion-content class=\\\"container-admin\\\"><h1>Settings</h1><md-setting><md-table-toolbar><div layout=\\\"row\\\"><md-content \\nflex-gt-md=\\\"65\\\" flex=\\\"100\\\" style=\\\"overflow: hidden\\\"><br><div layout-gt-sm=\\\"row\\\" class=\\\"filter-bar\\\"><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Search by Title</label><input type=\\\"text\\\" ng-model=\\\"query.filter\\\" \\nng-model-options=\\\"{ debounce: 1000 }\\\" ng-change=\\\"onQueryChange()\\\"></md-input-container><md-input-container \\nclass=\\\"md-block\\\" flex-gt-xs><label>Status</label><md-select ng-model=\\\"query.status\\\" ng-change=\\\"onQueryChange()\\\">\\n<md-option value=\\\"\\\">All</md-option><md-option value=\\\"pending\\\">Pending</md-option><md-option value=\\\"approved\\\">Approved\\n</md-option><md-option value=\\\"rejected\\\">Rejected</md-option><md-option value=\\\"expired\\\">Expired</md-option><md-option \\nvalue=\\\"expireInTenDays\\\">Expires in 10 days</md-option><md-option value=\\\"expireInThirtyDays\\\">Expires in 30 days\\n</md-option></md-select></md-input-container><md-datepicker ng-model=\\\"query.date\\\" ng-change=\\\"onQueryChange()\\\" \\nmd-galleryholder=\\\"Enter date\\\" flex-gt-xs></md-datepicker></div></md-content></div></md-table-toolbar>\\n<md-table-container><table md-table md-progress=\\\"promise\\\"><thead md-head><tr md-row><th md-column>Key</th><th \\nmd-column>Value</th><th md-column>Created At</th><th name=\\\"Actions\\\"></th></tr></thead><tbody md-body><tr md-row \\nng-repeat=\\\"gallery in galleries\\\"><td md-cell>{{:: gallery.key }}</td><td md-cell>{{:: gallery.value }}</td><td md-cell>\\n<md-menu><md-button aria-label=\\\"Open menu\\\" class=\\\"md-icon-button\\\" ng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon \\nmd-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" layout-align=\\\"start center\\\"></md-icon></md-button>\\n<md-menu-content width=\\\"3\\\"><md-menu-item><md-button aria-label=\\\"Edit gallery\\\" \\nng-click=\\\"onUpdateGallery($event, gallery)\\\">Edit</md-button></md-menu-item><md-menu-item aria-label=\\\"Delete gallery\\\">\\n<md-button aria-label=\\\"Delete gallery\\\" ng-click=\\\"onDestroyGallery($event, gallery)\\\">Delete</md-button></md-menu-item>\\n</md-menu-content></md-menu></td></tr></tbody></table></md-table-container><md-table-pagination \\nmd-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-page=\\\"query.page\\\" md-total=\\\"{{query.total}}\\\" \\nmd-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" \\naria-label=\\\"New Gallery\\\" ng-click=\\\"onCreateGallery($event)\\\"><md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" \\nlayout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button></md-setting></ion-content>\");\n$templateCache.put(\"app/admin/views/admin.user.html\",\"<ion-content class=\\\"container-admin\\\"><h1>User</h1><md-card><md-table-toolbar><div layout=\\\"row\\\" flex><md-content \\nflex=\\\"100\\\"><md-input-container class=\\\"md-block\\\" flex-gt-xs><input type=\\\"text\\\" placeholder=\\\"Search by email...\\\" \\nng-model=\\\"query.filter\\\" ng-change=\\\"onSearch()\\\" ng-model-options=\\\"{ debounce: 1000 }\\\"></md-input-container></md-content>\\n</div></md-table-toolbar><md-table-container><table md--table md-progress=\\\"promise\\\"><thead md-head \\nmd-order=\\\"query.order\\\" md-on-reorder=\\\"onSearch\\\"><tr md-row><th md-column></th><th md-column md-order-by=\\\"name\\\">Name\\n</th><th md-column md-order-by=\\\"username\\\">Username</th><th md-column md-order-by=\\\"email\\\">Email</th><th md-column \\nmd-order-by=\\\"gender\\\">Gender</th><th md-column md-order-by=\\\"createdAt\\\">Created At</th></tr></thead><tbody md-body><tr \\nmd-row ng-repeat=\\\"user in users\\\"><td md-cell><img class=\\\"img-thumb img-circle\\\" ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{:: user.photo.url() }}\\\"></td><td md-cell>{{:: user.name }}</td><td md-cell>{{:: user.username }}</td><td \\nmd-cell>{{:: user.email }}</td><td md-cell>{{:: user.gender }}</td><td md-cell>{{ user.createdAt | date:\\'mediumDate\\' }}\\n</td><td md-cell><md-menu><md-button class=\\\"md-icon-button\\\" aria-label=\\\"Open menu\\\" \\nng-click=\\\"openMenu($mdOpenMenu, $event)\\\"><md-icon md-menu-origin md-font-icon=\\\"icon-dots-vertical\\\" layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"></md-icon></md-button><md-menu-content width=\\\"3\\\"><md-menu-item><md-button \\naria-label=\\\"Edit user\\\" ng-click=\\\"onUpdateUser($event, user)\\\">Edit</md-button></md-menu-item><md-menu-item \\nng-if=\\\"loggedUser.id !== user.id\\\"><md-button aria-label=\\\"Delete user\\\" ng-click=\\\"onDeleteUser($event, user)\\\">Delete\\n</md-button></md-menu-item></md-menu-content></md-menu></td></tr></tbody></table></md-table-container>\\n<md-table-pagination md-options=\\\"rowOptions\\\" md-limit=\\\"query.limit\\\" md-limit-options=\\\"rowOptions\\\" md-page=\\\"query.page\\\" \\nmd-page-select md-total=\\\"{{query.total}}\\\" md-on-paginate=\\\"onPaginationChange\\\"></md-table-pagination></md-card>\\n</ion-content><md-button class=\\\"md-fab md-fab md-fab-bottom-right\\\" aria-label=\\\"New user\\\" ng-click=\\\"onSaveUser($event)\\\">\\n<md-icon class=\\\"icon-add\\\" md-font-icon=\\\"icon-plus\\\" layout=\\\"column\\\" layout-align=\\\"center center\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/activity.html\",\"<ion-content><div class=\\\"list-activity container\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.showErrorView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button\\n class=\\\"button button-{{theme}}\\\" ng-click=\\\"vm.onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"vm.showEmptyView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i>\\n<p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div></div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"list\\\"><div class=\\\"item item-avatar item-animate1\\\" \\nng-repeat=\\\"item in vm.data\\\"><img ng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ item.user.photo._url }}\\\"><h2>\\n{{ item.user.name}}</h2><div class=\\\"text\\\">{{ item.action }}</div><p>{{ item.createdAt | amTimeAgo }}</p><div \\nclass=\\\"img-right\\\" ng-if=\\\"item.item.gallery\\\"><img ng-src=\\\"/assets/images/placeholder.png\\\" \\nactual-src=\\\"{{ item.item.gallery.attributes.imageThumb._url }}\\\"></div></div></div><ion-infinite-scroll \\non-infinite=\\\"onLoadMore()\\\" ng-if=\\\"vm.moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll></div>\\n</ion-content>\");\n$templateCache.put(\"app/public/views/auth.layout.html\",\"<ion-content id=\\\"view-login\\\"><div class=\\\"container\\\"><article layout=\\\"row\\\"><section class=\\\"mobile\\\" flex><ion-slide-box \\nactive-slide=\\\"slideIndex\\\" auto-play=\\\"true\\\" slide-interval=\\\"3000\\\" show-pager=\\\"false\\\" does-continue=\\\"true\\\" \\non-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide ng-repeat=\\\"slide in vm.slides track by $index\\\"><img \\nng-if=\\\"$index == vm.slideIndex\\\" ng-src=\\\"{{slide.src}}\\\" alt=\\\"{{slide.description}}\\\"></ion-slide></ion-slide-box>\\n</section><section flex><div ui-view></div><p class=\\\"text-center padding\\\">Get the app</p><div class=\\\"appstores\\\" \\nlayout=\\\"row\\\" layout-align=\\\"center\\\" flex><a \\nhref=\\\"https://itunes.apple.com/br/app/photogram-ionic-parse/id1035132099?mt=8\\\" target=\\\"_blank\\\"><img \\nsrc=\\\"assets/images/appstore.png\\\" alt=\\\"Apple Play\\\"></a><a \\nhref=\\\"https://play.google.com/store/apps/details?id=com.agenciafoccus.photogram\\\" target=\\\"_blank\\\"><img \\nsrc=\\\"assets/images/googleplay.png\\\" alt=\\\"Google Play\\\"></a></div></section></article><footer flex=\\\"none\\\" layout=\\\"row\\\">\\n<nav><ul><li><a href=\\\"\\\">About us</a></li><li><a href=\\\"\\\">Support</a></li><li><a href=\\\"\\\">Blog</a></li></ul></nav><span \\nflex></span> @2016 Photogram</footer></div></ion-content>\");\n$templateCache.put(\"app/public/views/docs.html\",\"Documentation\");\n$templateCache.put(\"app/public/views/editprofile.html\",\"campos do perfil asdadas\");\n$templateCache.put(\"app/public/views/editprofile.sidenav.html\",\"<div layout=\\\"row\\\" layout-fill flex><md-sidenav layout=\\\"column\\\" class=\\\"md-sidenav-left\\\" md-component-id=\\\"left\\\" \\nmd-is-locked-open=\\\"$mdMedia(\\'gt-sm\\')\\\" md-disable-backdrop md-whiteframe=\\\"4\\\"><md-content flex><md-list><md-list-item \\nng-repeat=\\\"item in  menus\\\"><a ng-click=\\\"goLink(item.link)\\\"><md-item-content md-ink-ripple layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><div class=\\\"inset\\\"><md-icon md-font-icon=\\\"{{item.icon}}\\\"></md-icon></div><div \\nclass=\\\"inset\\\">{{ item.title}}</div></md-item-content></a></md-list-item></md-list></md-content></md-sidenav><md-content\\n class=\\\"container\\\" flex layout-padding><div layout=\\\"column\\\" layout-fill layout-align=\\\"top center\\\"><p>\\nThe left sidenav will \\'lock open\\' on a medium (>=960px wide) device.</p><p>\\nThe right sidenav will focus on a specific child element.</p><div><md-button ng-click=\\\"toggleLeft()\\\" \\nclass=\\\"md-primary\\\" hide-gt-md>Toggle left</md-button></div><div><md-button ng-click=\\\"toggleRight()\\\" \\nng-hide=\\\"isOpenRight()\\\" class=\\\"md-primary\\\">Toggle right</md-button></div></div></md-content></div>\");\n$templateCache.put(\"app/public/views/feed.html\",\"<ion-content><div class=\\\"container\\\"><div class=\\\"center padding\\\" ng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"placesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center\\\"><ion-spinner ng-if=\\\"loading\\\"></ion-spinner>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nclass=\\\"item-animate1\\\" ng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img \\nng-src=\\\"/assets/images/placeholder.png\\\" ui-sref=\\\"app.profile({username: item.user.username})\\\" \\nactual-src=\\\"{{item.user.photo._url}}\\\" style=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span \\nclass=\\\"md-title\\\" layout=\\\"row\\\"><span>{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}\\n</span> </span><span class=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img \\nng-src=\\\"/assets/images/placeholder-image.jpg\\\" actual-src=\\\"{{item.image._url}}\\\" class=\\\"md-card-image\\\" alt=\\\"Washed Out\\\">\\n<md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p ng-repeat=\\\"comment in item.comments\\\"><b>\\n{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card><ion-infinite-scroll \\non-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\"></ion-infinite-scroll></div>\\n</ion-content><md-button ng-if=\\\"currentUser\\\" class=\\\"md-fab md-accent fadeIn\\\" upload-image \\naria-label=\\\"{ \\'PLUS\\'|translate}\\\"><md-icon md-font-icon=\\\"ion-ios-camera-outline\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/install.html\",\"<form name=\\\"userForm\\\" ng-submit=\\\"vm.onSubmit(userForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex>\\n<md-card-content layout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img \\nclass=\\\"photogram-icon\\\" src=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\">\\n</md-icon><span flex></span></div><h2>Create admin user</h2><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-email\\\"></md-icon><input required type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" email-validator \\nng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" \\nplaceholder=\\\"Full Name\\\" ng-minlength=\\\"3\\\" required><div ng-if=\\\"userForm.name.$dirty\\\" ng-messages=\\\"userForm.name.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.NAME_REQUIRED\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.NAME_MIN\\\"></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" \\nng-model=\\\"vm.form.username\\\" username-validator ng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/(?=.*[A-Za-z])[A-Za-z\\\\d]{3,10}/\\\" placeholder=\\\"Username\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" \\nng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-gender-male-female\\\"></md-icon><md-select ng-model=\\\"vm.form.gender\\\" name=\\\"gender\\\" required \\nplaceholder=\\\"{{\\'Gender\\' | translate}}\\\"><md-option value=\\\"man\\\" translate=\\\"Man\\\"></md-option><md-option value=\\\"woman\\\" \\ntranslate=\\\"Woman\\\"></md-option><md-option value=\\\"other\\\" translate=\\\"Other\\\"></md-option></md-select><div \\nng-if=\\\"userForm.gender.$dirty\\\" ng-messages=\\\"userForm.gender.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.EMAIL_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_INVAILABLE\\\">\\n</div></div></md-input-container><div layout=\\\"row\\\"><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" type=\\\"password\\\" \\nminlength=\\\"4\\\" maxlength=\\\"12\\\" required placeholder=\\\"********\\\"><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"ERROR.PASSWORD_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" translate=\\\"ERROR.PASSWORD_INVALID\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.PASSWORD_MIN\\\"></div><div ng-message=\\\"maxlength\\\" translate=\\\"ERROR.PASSWORD_MAX\\\">\\n</div></div></md-input-container><md-input-container md-no-float flex><input name=\\\"confmPassword\\\" \\nng-model=\\\"vm.passwordConfirmation\\\" type=\\\"password\\\" minlength=\\\"4\\\" maxlength=\\\"12\\\" required compare-to=\\\"vm.form.password\\\" \\nplaceholder=\\\"********\\\"><div ng-if=\\\"userForm.confmPassword.$dirty\\\" ng-messages=\\\"userForm.confmPassword.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" translate=\\\"ERROR.PASSWORD_CONFIRM\\\"></div><div ng-message=\\\"compareTo\\\" \\ntranslate=\\\"ERROR.PASSWORD_CONFIRM_INVALID\\\"></div></div></md-input-container></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" flex ng-disabled=\\\"vm.form.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\" translate=\\\"Sign up\\\"></span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div><h2>By signing up, you agree to our Terms & Privacy Policy.</h2>\\n</md-card-content></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content class=\\\"md-padding text-center\\\">\\nHave an account? <a ui-sref=\\\"app.auth.login\\\">Log in</a></md-card-content></md-card>\");\n$templateCache.put(\"app/public/views/login.html\",\"<form name=\\\"rForm\\\" ng-submit=\\\"vm.onLogin(rForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex><md-card-content \\nlayout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img class=\\\"photogram-icon\\\" \\nsrc=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\"></md-icon><span flex></span>\\n</div><h2 class=\\\"md-title\\\">Login</h2><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" ng-model=\\\"vm.form.username\\\" \\nplaceholder=\\\"Login\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" ng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\">\\n<div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" type=\\\"password\\\" ng-model=\\\"vm.form.password\\\" \\nng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" placeholder=\\\"Password\\\" required><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container></md-card-content><div layout=\\\"row\\\" \\nclass=\\\"md-actions layout-row\\\"><md-button ui-sref=\\\"app.auth.reset\\\">Forgot</md-button><span flex></span><md-button \\ntype=\\\"submit\\\" ng-disabled=\\\"rForm.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\">LOG IN</span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content \\nclass=\\\"md-padding text-center\\\">Don\\'t have an account? <a ui-sref=\\\"app.auth.register\\\">Sign up</a></md-card-content>\\n</md-card>\");\n$templateCache.put(\"app/public/views/main.html\",\"<header ui-view=\\\"toolbar\\\"></header><md-content class=\\\"main-content\\\" layout=\\\"column\\\" flex><md-sidenav \\nclass=\\\"md-sidenav-left md-whiteframe-z2\\\" md-component-id=\\\"leftMenu\\\" md-is-locked-open=\\\"$mdMedia(\\'gt-lg\\')\\\" \\nui-view=\\\"sidenav\\\"></md-sidenav><div class=\\\"main\\\" layout=\\\"column\\\" flex><section flex=\\\"none\\\"><div ui-view></div>\\n</section></div></md-content>\");\n$templateCache.put(\"app/public/views/profile.html\",\"<ion-content><div class=\\\"container\\\"><div layout=\\\"row\\\"><div flex=\\\"30\\\"><img class=\\\"img-circle\\\" \\nng-src=\\\"/assets/images/placeholder.png\\\" actual-src=\\\"{{ user.photo._url }}\\\"></div><div layout=\\\"column\\\" flex><div \\nlayout=\\\"row\\\"><h1>{{user.username}}</h1><span flex></span><md-button ui-sref=\\\"app.editProfile.account\\\" \\nclass=\\\"md-raised\\\" ng-if=\\\"currentUser\\\" aria-label=\\\"{ \\'EDIT\\'|translate}\\\">{{\\'Edit Profile\\' | translate }}</md-button>\\n<md-button ng-click=\\\"openMenu($event)\\\" ng-if=\\\"currentUser\\\" class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'EDIT\\'|translate}\\\">\\n<md-icon md-font-icon=\\\"ion-android-more-vertical\\\"></md-icon></md-button></div><h2><b>{{user.name}}</b> {{user.status}}\\n</h2><div layout=\\\"row\\\"><div flex>{{user.galleriesTotal}} photos</div><div flex>{{user.followersTotal}} follower</div>\\n<div flex>{{user.followingsTotal}} following</div></div></div></div><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nclass=\\\"item-animate1\\\" ng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img ng-src=\\\"{{item.user.photo._url}}\\\" \\nstyle=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span class=\\\"md-title\\\" layout=\\\"row\\\"><span>\\n{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}</span> </span><span \\nclass=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img ng-src=\\\"{{item.image._url}}\\\" \\nclass=\\\"md-card-image\\\" alt=\\\"Washed Out\\\"><md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p \\nng-repeat=\\\"comment in item.comments\\\"><b>{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></div></ion-content>\");\n$templateCache.put(\"app/public/views/register.html\",\"<form name=\\\"userForm\\\" ng-submit=\\\"vm.onSubmit(userForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex>\\n<md-card-content layout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img \\nclass=\\\"photogram-icon\\\" src=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\">\\n</md-icon><span flex></span></div><h2>Sign up to see photos and videos from your friends.</h2><facebook-login \\nloading=\\\"vm.loading\\\"></facebook-login><div class=\\\"line\\\" layout=\\\"row\\\"><div class=\\\"l\\\" flex></div><span>OR</span><div \\nclass=\\\"l\\\" flex></div></div><md-input-container md-no-float flex><md-icon md-font-icon=\\\"icon-email\\\"></md-icon><input \\nrequired type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"vm.form.email\\\" email-validator ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"vm.form.name\\\" \\nplaceholder=\\\"Full Name\\\" ng-minlength=\\\"3\\\" required><div ng-if=\\\"userForm.name.$dirty\\\" ng-messages=\\\"userForm.name.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" translate=\\\"ERROR.NAME_REQUIRED\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.NAME_MIN\\\"></div></div></md-input-container><md-input-container md-no-float \\nflex><md-icon md-font-icon=\\\"icon-clipboard-account\\\"></md-icon><input name=\\\"username\\\" type=\\\"text\\\" \\nng-model=\\\"vm.form.username\\\" username-validator ng-minlength=\\\"3\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/(?=.*[A-Za-z])[A-Za-z\\\\d]{3,10}/\\\" placeholder=\\\"Username\\\" required><div ng-if=\\\"userForm.username.$dirty\\\" \\nng-messages=\\\"userForm.username.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.USERNAME_INVAILABLE\\\"></div></div></md-input-container><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-gender-male-female\\\"></md-icon><md-select ng-model=\\\"vm.form.gender\\\" name=\\\"gender\\\" required \\nplaceholder=\\\"{{\\'Gender\\' | translate}}\\\"><md-option value=\\\"man\\\" translate=\\\"Man\\\"></md-option><md-option value=\\\"woman\\\" \\ntranslate=\\\"Woman\\\"></md-option><md-option value=\\\"other\\\" translate=\\\"Other\\\"></md-option></md-select><div \\nng-if=\\\"userForm.gender.$dirty\\\" ng-messages=\\\"userForm.gender.$error\\\" role=\\\"alert\\\"><div ng-message=\\\"required\\\" \\nclass=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" class=\\\"my-message\\\" \\ntranslate=\\\"ERROR.EMAIL_INVALID\\\"></div><div ng-message=\\\"async\\\" class=\\\"my-message\\\" translate=\\\"ERROR.EMAIL_INVAILABLE\\\">\\n</div></div></md-input-container><div layout=\\\"row\\\"><md-input-container md-no-float flex><md-icon \\nmd-font-icon=\\\"icon-account-key\\\"></md-icon><input name=\\\"password\\\" ng-model=\\\"vm.form.password\\\" type=\\\"password\\\" \\nminlength=\\\"4\\\" maxlength=\\\"12\\\" required placeholder=\\\"********\\\"><div ng-if=\\\"userForm.password.$dirty\\\" \\nng-messages=\\\"userForm.password.$error\\\" role=\\\"alert\\\" multiple=\\\"multiple\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"ERROR.PASSWORD_REQUIRED\\\"></div><div ng-message=\\\"pattern\\\" translate=\\\"ERROR.PASSWORD_INVALID\\\"></div><div \\nng-message=\\\"minlength\\\" translate=\\\"ERROR.PASSWORD_MIN\\\"></div><div ng-message=\\\"maxlength\\\" translate=\\\"ERROR.PASSWORD_MAX\\\">\\n</div></div></md-input-container><md-input-container md-no-float flex><input name=\\\"confmPassword\\\" \\nng-model=\\\"vm.passwordConfirmation\\\" type=\\\"password\\\" minlength=\\\"4\\\" maxlength=\\\"12\\\" required compare-to=\\\"vm.form.password\\\" \\nplaceholder=\\\"********\\\"><div ng-if=\\\"userForm.confmPassword.$dirty\\\" ng-messages=\\\"userForm.confmPassword.$error\\\" \\nrole=\\\"alert\\\"><div ng-message=\\\"required\\\" translate=\\\"ERROR.PASSWORD_CONFIRM\\\"></div><div ng-message=\\\"compareTo\\\" \\ntranslate=\\\"ERROR.PASSWORD_CONFIRM_INVALID\\\"></div></div></md-input-container></div><div layout=\\\"row\\\"><md-button \\ntype=\\\"submit\\\" flex ng-disabled=\\\"vm.form.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\" translate=\\\"Sign up\\\"></span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div><h2>By signing up, you agree to our Terms & Privacy Policy.</h2>\\n</md-card-content></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content class=\\\"md-padding text-center\\\">\\nHave an account? <a ui-sref=\\\"app.auth.login\\\">Log in</a></md-card-content></md-card>\");\n$templateCache.put(\"app/public/views/reset.html\",\"<form name=\\\"rForm\\\" ng-submit=\\\"vm.onLogin(rForm, vm.form)\\\" novalidate><md-card class=\\\"step1\\\" flex><md-card-content \\nlayout=\\\"column\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><span flex></span> <img class=\\\"photogram-icon\\\" \\nsrc=\\\"assets/images/icon.png\\\" alt=\\\"Photogram Icon\\\"><md-icon md-font-icon=\\\"photogram-logo\\\"></md-icon><span flex></span>\\n</div><h2 class=\\\"md-title\\\">Reset password</h2><md-input-container md-no-float flex><md-icon md-font-icon=\\\"icon-email\\\">\\n</md-icon><input required type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"form.email\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[_a-z0-9-+]+(\\\\.[_a-z0-9-+]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,4})$/\\\" \\nplaceholder=\\\"someone@example.com\\\"><div ng-if=\\\"userForm.email.$dirty\\\"><div ng-messages=\\\"userForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"userForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div></md-input-container></md-card-content><div \\nlayout=\\\"row\\\" class=\\\"md-actions layout-row\\\"><md-button ui-sref=\\\"app.auth.login\\\">Login</md-button><span flex></span>\\n<md-button type=\\\"submit\\\" ng-disabled=\\\"rForm.$invalid || vm.loading\\\" class=\\\"md-raised md-primary md-block\\\"><span \\nng-hide=\\\"vm.loading\\\">Resent</span><md-progress-circular ng-show=\\\"vm.loading\\\" style=\\\"margin:0 auto\\\">\\n</md-progress-circular></md-button></div></md-card></form><md-card flex class=\\\"step2\\\"><md-card-content \\nclass=\\\"md-padding text-center\\\">Don\\'t have an account? <a ui-sref=\\\"app.auth.register\\\">Sign up</a></md-card-content>\\n</md-card>\");\n$templateCache.put(\"app/public/views/search.html\",\"<ion-content><div style=\\\"max-width: 600px; display: block; margin:0 auto\\\"><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView()\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView()\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"placesNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><md-card \\nng-repeat=\\\"item in data\\\"><md-card-header><md-card-avatar><img ng-src=\\\"{{item.user.photo._url}}\\\" \\nstyle=\\\"border-radius: 50%\\\"></md-card-avatar><md-card-header-text><span class=\\\"md-title\\\" layout=\\\"row\\\"><span>\\n{{item.user.name}}</span> <span flex></span> <span>{{item.createdAt | amTimeAgo}}</span> </span><span \\nclass=\\\"md-subhead\\\">{{item.user.status}}</span></md-card-header-text></md-card-header><img ng-src=\\\"{{item.image._url}}\\\" \\nclass=\\\"md-card-image\\\" alt=\\\"Washed Out\\\"><md-card-content><p><b>{{item.user.username}}</b> {{item.title}}</p><p \\nng-repeat=\\\"comment in item.comments\\\"><b>{{comment.user.username}}</b> {{comment.text}}</p></md-card-content></md-card>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded()\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></div></ion-content><md-button class=\\\"md-fab md-accent fadeIn\\\" upload-image \\naria-label=\\\"{ \\'PLUS\\'|translate}\\\"><md-icon md-font-icon=\\\"micon-plus\\\"></md-icon></md-button>\");\n$templateCache.put(\"app/public/views/sidenav.html\",\"<md-toolbar class=\\\"md-tall md-hue-2\\\"><span flex></span><div layout=\\\"column\\\" class=\\\"md-toolbar-tools-bottom inset\\\"><h5>\\nHi, {{currentUser.attributes.name}}</h5></div></md-toolbar><md-content><md-list-item md-no-ink \\nng-repeat=\\\"item in menus\\\" ui-sref=\\\"{{item.link}}\\\" aria-label=\\\"{{item.title}}\\\" ng-click=\\\"toggle()\\\"><div class=\\\"inset\\\">\\n<md-icon md-font-icon=\\\"{{item.icon}}\\\" layout=\\\"column\\\" layout-align=\\\"start center\\\"></md-icon></div><div class=\\\"inset\\\" \\nng-bind=\\\"item.title\\\"></div></md-list-item><md-divider></md-divider><md-list-item ng-click=\\\"toggle()\\\" \\nui-sref=\\\"app.logout\\\"><div class=\\\"inset\\\"><md-icon layout=\\\"column\\\" md-font-icon=\\\"icon-exit-to-app\\\" \\nlayout-align=\\\"start center\\\"></md-icon></div><div class=\\\"inset\\\">Log Out</div></md-list-item></md-content>\");\n$templateCache.put(\"app/public/views/toolbar.html\",\"<md-toolbar md-whiteframe=\\\"4\\\"><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button class=\\\"md-icon-button\\\" \\nng-click=\\\"toggle()\\\" hide-gt-lg aria-label=\\\"Menu\\\" ng-if=\\\"isAdmin()\\\"><md-icon md-font-icon=\\\"icon-menu\\\"></md-icon>\\n</md-button><md-button class=\\\"md-clear\\\" ng-click=\\\"homeLink()\\\"><img class=\\\"icon\\\" src=\\\"assets/images/icon.png\\\" \\nalt=\\\"Photogram Icon\\\"> <i class=\\\"photogram-logo\\\"></i></md-button><span flex></span><div ng-if=\\\"currentUser\\\" \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-button class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'Search\\'|translate}\\\" \\nui-sref=\\\"app.search\\\"><md-icon md-font-icon=\\\"ion-ios-world-outline\\\"></md-icon></md-button><md-button \\nclass=\\\"md-icon-button\\\" aria-label=\\\"{ \\'Login\\'|translate}\\\" ng-click=\\\"profile()\\\"><md-icon \\nmd-font-icon=\\\"ion-ios-person-outline\\\"></md-icon></md-button><md-button class=\\\"md-icon-button\\\" ng-if=\\\"currentUser\\\" \\naria-label=\\\"{ \\'Activity\\'|translate}\\\" ui-sref=\\\"app.activity\\\"><md-icon md-font-icon=\\\"ion-ios-heart-outline\\\"></md-icon>\\n</md-button><md-button class=\\\"md-icon-button\\\" aria-label=\\\"{ \\'PAYPAL\\'|translate}\\\" ui-sref=\\\"app.docs\\\"><md-icon \\nmd-font-icon=\\\"ion-ios-cloud-download-outline\\\"></md-icon></md-button></div></div></md-toolbar>\");\n$templateCache.put(\"app/admin/views/modal/admin.activity.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Gallery Dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New entry</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::gallery.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Title *</label><md-icon \\nmd-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" required name=\\\"title\\\" ng-model=\\\"gallery.title\\\"><div \\nng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Address</label><md-icon \\nmd-font-icon=\\\"icon-map\\\"></md-icon><input type=\\\"text\\\" name=\\\"address\\\" ng-model=\\\"gallery.address\\\" \\nng-model-options=\\\"{ debounce: 2000 }\\\" ng-change=\\\"onAddressChanged()\\\"></md-input-container><md-input-container><ng-map \\nclass=\\\"map\\\" scrollwheel=\\\"false\\\" map-type-control=\\\"false\\\" street-view-control=\\\"false\\\"><marker draggable=\\\"true\\\" \\non-dragend=\\\"onMarkerDragEnd()\\\"></marker></ng-map></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container flex><label>Latitude</label><input type=\\\"number\\\" name=\\\"latitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.latitude\\\"></md-input-container>\\n<md-input-container flex><label>Longitude</label><input type=\\\"number\\\" name=\\\"longitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.longitude\\\">\\n</md-input-container></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>\\nUpload image *</label><input type=\\\"text\\\" ng-model=\\\"imageOneFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': gallery.image.url() }\\\" \\nngf-select=\\\"uploadImageOne($file, $invalidFile)\\\" ngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\">\\n<md-tooltip>Add image</md-tooltip></md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" \\nng-if=\\\"isImageOneUploading\\\"></md-progress-circular></div></md-content></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised md-primary ng-click=\\\"cancel()\\\">Cancel</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onSaveGallery(form.$valid)\\\" \\nng-disabled=\\\"isSavingGallery\\\" ng-show=\\\"isCreating\\\">{{ !isSavingGallery ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onUpdateGallery(form.$valid)\\\" ng-disabled=\\\"isSavingGallery\\\" \\nng-show=\\\"!isCreating\\\">{{ !isSavingGallery ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.category.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Dialog Category\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate>\\n<md-toolbar><div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New category</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::objCategory.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container><label>Title *</label><input required name=\\\"title\\\" ng-model=\\\"objCategory.title\\\">\\n<div ng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container><label>Order *</label><input type=\\\"number\\\" name=\\\"order\\\" min=\\\"0\\\" \\nng-model=\\\"objCategory.order\\\" required><div ng-messages=\\\"form.order.$error\\\" ng-show=\\\"form.$submitted\\\"><div \\nng-message=\\\"required\\\">Order required</div></div></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container md-no-float><label>Upload Image</label><input type=\\\"text\\\" ng-model=\\\"imageFilename\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.image.url() }\\\" ngf-select=\\\"uploadImage($file, $invalidFile)\\\" \\nngf-max-size=\\\"4MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an Image</md-tooltip></ng-md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload Icon</label><input type=\\\"text\\\" \\nng-model=\\\"iconFilename\\\" disabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.icon.url() }\\\" ngf-dimensions=\\\"$width === 64 && $height === 64\\\" \\nngf-select=\\\"uploadIcon($file, $invalidFile)\\\" ngf-max-size=\\\"1MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>\\nAdd an Icon</md-tooltip></ng-md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploadingIcon\\\">\\n</md-progress-circular></div><div class=\\\"hint\\\">* The icon image\\'s dimensions should be 64x64 px</div></md-content>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised \\nmd-primary ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onSaveCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"!isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onUpdateCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.gallery.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Gallery Dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New entry</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::gallery.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Title *</label><md-icon \\nmd-font-icon=\\\"icon-account\\\"></md-icon><input type=\\\"text\\\" required name=\\\"title\\\" ng-model=\\\"gallery.title\\\"><div \\nng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container md-no-float class=\\\"md-block md-icon-right\\\"><label>Address</label><md-icon \\nmd-font-icon=\\\"icon-map\\\"></md-icon><input type=\\\"text\\\" name=\\\"address\\\" ng-model=\\\"gallery.address\\\" \\nng-model-options=\\\"{ debounce: 2000 }\\\" ng-change=\\\"onAddressChanged()\\\"></md-input-container><md-input-container><ng-map \\nclass=\\\"map\\\" scrollwheel=\\\"false\\\" map-type-control=\\\"false\\\" street-view-control=\\\"false\\\"><marker draggable=\\\"true\\\" \\non-dragend=\\\"onMarkerDragEnd()\\\"></marker></ng-map></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container flex><label>Latitude</label><input type=\\\"number\\\" name=\\\"latitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.latitude\\\"></md-input-container>\\n<md-input-container flex><label>Longitude</label><input type=\\\"number\\\" name=\\\"longitude\\\" \\nng-change=\\\"onInputLocationChanged()\\\" ng-model-options=\\\"{debounce:1000}\\\" ng-model=\\\"input.longitude\\\">\\n</md-input-container></div><div layout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>\\nUpload image *</label><input type=\\\"text\\\" ng-model=\\\"imageOneFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': gallery.image.url() }\\\" \\nngf-select=\\\"uploadImageOne($file, $invalidFile)\\\" ngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\">\\n<md-tooltip>Add image</md-tooltip></md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" \\nng-if=\\\"isImageOneUploading\\\"></md-progress-circular></div></md-content></md-dialog-content><md-dialog-actions \\nlayout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised md-primary ng-click=\\\"cancel()\\\">Cancel</md-button>\\n<md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onSaveGallery(form.$valid)\\\" \\nng-disabled=\\\"isSavingGallery\\\" ng-show=\\\"isCreating\\\">{{ !isSavingGallery ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button \\ntype=\\\"submit\\\" class=\\\"md-raised md-primary\\\" ng-click=\\\"onUpdateGallery(form.$valid)\\\" ng-disabled=\\\"isSavingGallery\\\" \\nng-show=\\\"!isCreating\\\">{{ !isSavingGallery ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form>\\n</md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.setting.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"Dialog Category\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate>\\n<md-toolbar><div class=\\\"md-toolbar-tools\\\"><h2 ng-show=\\\"isCreating\\\">New category</h2><h2 ng-show=\\\"!isCreating\\\">\\nEdit {{::objCategory.title }}</h2><span flex></span><ng-md-icon icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\" \\naria-label=\\\"Close dialog\\\"></ng-md-icon></div></md-toolbar><md-dialog-content layout-padding><md-content \\nlayout=\\\"column\\\"><md-input-container><label>Title *</label><input required name=\\\"title\\\" ng-model=\\\"objCategory.title\\\">\\n<div ng-messages=\\\"form.title.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Title required</div></div>\\n</md-input-container><md-input-container><label>Order *</label><input type=\\\"number\\\" name=\\\"order\\\" min=\\\"0\\\" \\nng-model=\\\"objCategory.order\\\" required><div ng-messages=\\\"form.order.$error\\\" ng-show=\\\"form.$submitted\\\"><div \\nng-message=\\\"required\\\">Order required</div></div></md-input-container><div layout=\\\"row\\\" layout-align=\\\"start center\\\">\\n<md-input-container md-no-float><label>Upload Image</label><input type=\\\"text\\\" ng-model=\\\"imageFilename\\\" \\ndisabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.image.url() }\\\" ngf-select=\\\"uploadImage($file, $invalidFile)\\\" \\nngf-max-size=\\\"4MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an Image</md-tooltip></ng-md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div><div \\nlayout=\\\"row\\\" layout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload Icon</label><input type=\\\"text\\\" \\nng-model=\\\"iconFilename\\\" disabled=\\\"disabled\\\"></md-input-container><ng-md-icon icon=\\\"photo_camera\\\" class=\\\"photo-camera\\\" \\nng-class=\\\"{ \\'photo-active\\': objCategory.icon.url() }\\\" ngf-dimensions=\\\"$width === 64 && $height === 64\\\" \\nngf-select=\\\"uploadIcon($file, $invalidFile)\\\" ngf-max-size=\\\"1MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>\\nAdd an Icon</md-tooltip></ng-md-icon><md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploadingIcon\\\">\\n</md-progress-circular></div><div class=\\\"hint\\\">* The icon image\\'s dimensions should be 64x64 px</div></md-content>\\n</md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" md-raised \\nmd-primary ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onSaveCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-show=\\\"!isCreating\\\" ng-disabled=\\\"isSavingCategory\\\" ng-click=\\\"onUpdateCategory(form.$valid)\\\">\\n{{ !isSavingCategory ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");\n$templateCache.put(\"app/admin/views/modal/admin.user.modal.html\",\"<md-dialog flex=\\\"100\\\" flex-gt-xs=\\\"40\\\" aria-label=\\\"User dialog\\\"><form name=\\\"form\\\" role=\\\"form\\\" novalidate><md-toolbar>\\n<div class=\\\"md-toolbar-tools\\\"><h2>{{ objUser.id ? \\'Edit\\' : \\'New\\' }} User</h2><span flex></span><ng-md-icon \\naria-label=\\\"Close dialog\\\" icon=\\\"close\\\" class=\\\"icon-close\\\" ng-click=\\\"cancel()\\\"></ng-md-icon></div></md-toolbar>\\n<md-dialog-content layout-padding><md-content layout=\\\"column\\\"><md-input-container><label>Name *</label><input \\ntype=\\\"text\\\" name=\\\"name\\\" ng-model=\\\"objUser.name\\\" required><div ng-messages=\\\"form.name.$error\\\" ng-show=\\\"form.$submitted\\\">\\n<div ng-message=\\\"required\\\">Name required</div></div></md-input-container><md-input-container><label>Username *</label>\\n<input type=\\\"text\\\" name=\\\"username\\\" ng-model=\\\"objUser.username\\\" required><div ng-messages=\\\"form.username.$error\\\" \\nng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Username required</div></div></md-input-container>\\n<md-input-container><label>Email *</label><input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"objUser.email\\\" required><div \\nng-messages=\\\"form.email.$error\\\" ng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Email required</div><div \\nng-message=\\\"email\\\">Invalid email</div></div></md-input-container><md-input-container><label>Password</label><input \\ntype=\\\"password\\\" name=\\\"Password\\\" ng-model=\\\"objUser.password\\\"></md-input-container><md-input-container class=\\\"md-block\\\" \\nng-if=\\\"!objUser.id\\\"><label>Role *</label><md-select name=\\\"role\\\" required ng-model=\\\"objUser.roleName\\\"><md-option \\nvalue=\\\"Admin\\\">Admin</md-option><md-option value=\\\"User\\\">User</md-option></md-select><div ng-messages=\\\"form.role.$error\\\" \\nng-show=\\\"form.$submitted\\\"><div ng-message=\\\"required\\\">Role required</div></div></md-input-container><div layout=\\\"row\\\" \\nlayout-align=\\\"start center\\\"><md-input-container md-no-float><label>Upload photo</label><input type=\\\"text\\\" \\nng-model=\\\"imageFilename\\\" disabled=\\\"disabled\\\"></md-input-container><md-icon class=\\\"photo-camera\\\" \\nmd-font-icon=\\\"icon-camera\\\" ng-class=\\\"{ \\'photo-active\\': objUser.photo.url() }\\\" ngf-select=\\\"uploadImage($file)\\\" \\nngf-max-size=\\\"2MB\\\" ngf-pattern=\\\"\\'image/*\\'\\\" accept=\\\"image/*\\\"><md-tooltip>Add an image</md-tooltip></md-icon>\\n<md-progress-circular class=\\\"md-primary\\\" md-diameter=\\\"30\\\" ng-if=\\\"isUploading\\\"></md-progress-circular></div>\\n</md-content></md-dialog-content><md-dialog-actions layout=\\\"row\\\"><span flex></span><md-button class=\\\"md-raised\\\" \\nmd-primary md-raised ng-click=\\\"cancel()\\\">Cancel</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-disabled=\\\"isSavingUser\\\" ng-click=\\\"onEventSaveUser(form.$valid)\\\" ng-show=\\\"!objUser.id\\\">\\n{{ !isSavingUser ? \\'Save\\' : \\'Saving...\\' }}</md-button><md-button type=\\\"submit\\\" class=\\\"md-raised md-primary\\\" \\nng-disabled=\\\"isSavingUser\\\" ng-click=\\\"onEventUpdateUser(form.$valid)\\\" ng-show=\\\"objUser.id\\\">\\n{{ !isSavingUser ? \\'Update\\' : \\'Updating...\\' }}</md-button></md-dialog-actions></form></md-dialog>\");}]);\n}());\n"],"sourceRoot":"/source/"}